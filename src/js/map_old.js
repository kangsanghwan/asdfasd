
var data = [
{x:934963,y:1682004,a:0.46360},
{x:934986,y:1682049,a:0.46360},
{x:935008,y:1682093,a:0.46360},
{x:935031,y:1682138,a:0.46729},
{x:935053,y:1682183,a:0.46822},
{x:935076,y:1682227,a:0.46822},
{x:935098,y:1682272,a:0.46822},
{x:935121,y:1682317,a:0.46822},
{x:935143,y:1682361,a:0.46822},
{x:935166,y:1682406,a:0.46822},
{x:935189,y:1682450,a:0.46822},
{x:935211,y:1682495,a:0.46822},
{x:935234,y:1682540,a:0.46822},
{x:935256,y:1682584,a:0.46822},
{x:935279,y:1682629,a:0.46822},
{x:935301,y:1682673,a:0.46822},
{x:935324,y:1682718,a:0.46822},
{x:935346,y:1682763,a:0.46822},
{x:935369,y:1682807,a:0.46822},
{x:935392,y:1682852,a:0.46822},
{x:935414,y:1682897,a:0.46822},
{x:935437,y:1682941,a:0.46822},
{x:935459,y:1682986,a:0.46822},
{x:935482,y:1683030,a:0.46822},
{x:935504,y:1683075,a:0.46822},
{x:935527,y:1683120,a:0.46822},
{x:935550,y:1683164,a:0.46822},
{x:935572,y:1683209,a:0.46822},
{x:935595,y:1683254,a:0.46822},
{x:935617,y:1683298,a:0.46822},
{x:935640,y:1683343,a:0.46822},
{x:935662,y:1683387,a:0.46822},
{x:935685,y:1683432,a:0.46822},
{x:935707,y:1683477,a:0.46822},
{x:935730,y:1683521,a:0.46822},
{x:935753,y:1683566,a:0.46822},
{x:935775,y:1683610,a:0.46822},
{x:935798,y:1683655,a:0.46822},
{x:935820,y:1683700,a:0.46638},
{x:935843,y:1683744,a:0.46316},
{x:935864,y:1683789,a:0.44972},
{x:935885,y:1683835,a:0.43296},
{x:935905,y:1683881,a:0.39687},
{x:935922,y:1683928,a:0.36179},
{x:935938,y:1683975,a:0.32375},
{x:935952,y:1684023,a:0.28686},
{x:935965,y:1684071,a:0.25441},
{x:935977,y:1684120,a:0.23672},
{x:935988,y:1684169,a:0.22328},
{x:935999,y:1684218,a:0.22093},
{x:936010,y:1684266,a:0.22012},
{x:936021,y:1684315,a:0.22012},
{x:936031,y:1684364,a:0.22012},
{x:936042,y:1684413,a:0.22012},
{x:936053,y:1684462,a:0.22012},
{x:936064,y:1684510,a:0.22012},
{x:936075,y:1684559,a:0.22012},
{x:936086,y:1684608,a:0.22012},
{x:936097,y:1684657,a:0.22012},
{x:936108,y:1684706,a:0.22012},
{x:936119,y:1684754,a:0.22012},
{x:936130,y:1684803,a:0.22012},
{x:936141,y:1684852,a:0.22012},
{x:936152,y:1684901,a:0.22012},
{x:936162,y:1684950,a:0.22012},
{x:936173,y:1684998,a:0.22012},
{x:936184,y:1685047,a:0.22012},
{x:936195,y:1685096,a:0.22012},
{x:936206,y:1685145,a:0.22012},
{x:936217,y:1685194,a:0.22012},
{x:936228,y:1685242,a:0.22012},
{x:936239,y:1685291,a:0.22012},
{x:936250,y:1685340,a:0.21906},
{x:936260,y:1685389,a:0.21475},
{x:936270,y:1685438,a:0.19501},
{x:936278,y:1685487,a:0.16717},
{x:936284,y:1685537,a:0.11851},
{x:936288,y:1685587,a:0.06659},
{x:936288,y:1685637,a:0.01235},
{x:936286,y:1685687,a:6.23872},
{x:936281,y:1685736,a:6.18038},
{x:936273,y:1685786,a:6.13044},
{x:936263,y:1685835,a:6.06727},
{x:936249,y:1685883,a:6.01728},
{x:936234,y:1685930,a:5.96075},
{x:936215,y:1685977,a:5.91081},
{x:936195,y:1686022,a:5.86787},
{x:936174,y:1686068,a:5.83823},
{x:936152,y:1686113,a:5.83020},
{x:936130,y:1686157,a:5.82437},
{x:936108,y:1686202,a:5.82405},
{x:936085,y:1686247,a:5.82405},
{x:936063,y:1686292,a:5.82405},
{x:936041,y:1686337,a:5.82405},
{x:936019,y:1686381,a:5.82405},
{x:935997,y:1686426,a:5.82405},
{x:935975,y:1686471,a:5.82405},
{x:935952,y:1686516,a:5.82405},
{x:935930,y:1686561,a:5.82405},
{x:935908,y:1686606,a:5.82405},
{x:935886,y:1686650,a:5.82405},
{x:935864,y:1686695,a:5.82405},
{x:935842,y:1686740,a:5.82405},
{x:935819,y:1686785,a:5.82405},
{x:935797,y:1686830,a:5.82405},
{x:935775,y:1686875,a:5.82405},
{x:935753,y:1686919,a:5.82405},
{x:935731,y:1686964,a:5.82405},
{x:935709,y:1687009,a:5.82405},
{x:935687,y:1687054,a:5.82405},
{x:935664,y:1687099,a:5.82405},
{x:935642,y:1687143,a:5.82405},
{x:935620,y:1687188,a:5.82405},
{x:935598,y:1687233,a:5.82405},
{x:935576,y:1687278,a:5.82405},
{x:935554,y:1687323,a:5.82405},
{x:935531,y:1687368,a:5.82405},
{x:935509,y:1687412,a:5.82405},
{x:935487,y:1687457,a:5.82405},
{x:935465,y:1687502,a:5.82405},
{x:935443,y:1687547,a:5.82405},
{x:935421,y:1687592,a:5.82405},
{x:935398,y:1687637,a:5.82405},
{x:935376,y:1687681,a:5.82405},
{x:935354,y:1687726,a:5.82405},
{x:935332,y:1687771,a:5.82405},
{x:935310,y:1687816,a:5.82419},
{x:935288,y:1687861,a:5.82533},
{x:935266,y:1687906,a:5.82533},
{x:935244,y:1687950,a:5.82638},
{x:935222,y:1687995,a:5.83099},
{x:935200,y:1688040,a:5.83104},
{x:935178,y:1688085,a:5.84003},
{x:935157,y:1688131,a:5.84003},
{x:935136,y:1688176,a:5.84896},
{x:935115,y:1688221,a:5.85367},
{x:935095,y:1688267,a:5.86335},
{x:935075,y:1688313,a:5.86613},
{x:935055,y:1688359,a:5.87556},
{x:935035,y:1688405,a:5.88526},
{x:935016,y:1688451,a:5.88756},
{x:934997,y:1688497,a:5.89917},
{x:934979,y:1688544,a:5.90174},
{x:934961,y:1688590,a:5.91270},
{x:934943,y:1688637,a:5.91813},
{x:934925,y:1688684,a:5.92296},
{x:934908,y:1688731,a:5.92846},
{x:934891,y:1688778,a:5.93278},
{x:934874,y:1688825,a:5.93662},
{x:934857,y:1688872,a:5.93796},
{x:934840,y:1688919,a:5.94091},
{x:934823,y:1688966,a:5.94094},
{x:934806,y:1689013,a:5.94191},
{x:934790,y:1689060,a:5.94191},
{x:934773,y:1689107,a:5.94191},
{x:934756,y:1689154,a:5.94191},
{x:934739,y:1689202,a:5.94191},
{x:934723,y:1689249,a:5.94191},
{x:934706,y:1689296,a:5.94191},
{x:934689,y:1689343,a:5.94191},
{x:934673,y:1689390,a:5.94191},
{x:934656,y:1689437,a:5.94191},
{x:934639,y:1689484,a:5.94191},
{x:934622,y:1689531,a:5.94191},
{x:934606,y:1689578,a:5.94191},
{x:934589,y:1689626,a:5.94191},
{x:934572,y:1689673,a:5.94191},
{x:934555,y:1689720,a:5.94191},
{x:934539,y:1689767,a:5.94191},
{x:934522,y:1689814,a:5.94191},
{x:934505,y:1689861,a:5.94191},
{x:934488,y:1689908,a:5.94191},
{x:934472,y:1689955,a:5.94191},
{x:934455,y:1690003,a:5.94191},
{x:934438,y:1690050,a:5.94191},
{x:934422,y:1690097,a:5.94191},
{x:934405,y:1690144,a:5.94191},
{x:934388,y:1690191,a:5.94191},
{x:934371,y:1690238,a:5.94191},
{x:934355,y:1690285,a:5.94191},
{x:934338,y:1690332,a:5.94191},
{x:934321,y:1690379,a:5.94191},
{x:934304,y:1690427,a:5.94191},
{x:934288,y:1690474,a:5.94191},
{x:934271,y:1690521,a:5.94191},
{x:934254,y:1690568,a:5.94191},
{x:934237,y:1690615,a:5.94191},
{x:934221,y:1690662,a:5.94191},
{x:934204,y:1690709,a:5.94191},
{x:934187,y:1690756,a:5.94191},
{x:934170,y:1690804,a:5.94191},
{x:934154,y:1690851,a:5.94191},
{x:934137,y:1690898,a:5.94191},
{x:934120,y:1690945,a:5.94191},
{x:934104,y:1690992,a:5.94191},
{x:934087,y:1691039,a:5.94191},
{x:934070,y:1691086,a:5.94191},
{x:934053,y:1691133,a:5.94191},
{x:934037,y:1691180,a:5.94191},
{x:934020,y:1691228,a:5.94191},
{x:934003,y:1691275,a:5.94191},
{x:933986,y:1691322,a:5.94191},
{x:933970,y:1691369,a:5.94191},
{x:933953,y:1691416,a:5.94191},
{x:933936,y:1691463,a:5.94191},
{x:933919,y:1691510,a:5.94191},
{x:933903,y:1691557,a:5.94191},
{x:933886,y:1691604,a:5.94191},
{x:933869,y:1691652,a:5.94191},
{x:933853,y:1691699,a:5.94191},
{x:933836,y:1691746,a:5.94191},
{x:933819,y:1691793,a:5.94191},
{x:933802,y:1691840,a:5.94191},
{x:933786,y:1691887,a:5.94191},
{x:933769,y:1691934,a:5.94191},
{x:933752,y:1691981,a:5.94191},
{x:933735,y:1692029,a:5.94191},
{x:933719,y:1692076,a:5.94191},
{x:933702,y:1692123,a:5.94191},
{x:933685,y:1692170,a:5.94191},
{x:933668,y:1692217,a:5.94191},
{x:933652,y:1692264,a:5.94242},
{x:933635,y:1692311,a:5.94265},
{x:933618,y:1692358,a:5.94429},
{x:933602,y:1692406,a:5.94751},
{x:933585,y:1692453,a:5.94751},
{x:933569,y:1692500,a:5.95265},
{x:933553,y:1692547,a:5.95710},
{x:933537,y:1692595,a:5.96233},
{x:933522,y:1692643,a:5.97015},
{x:933507,y:1692690,a:5.97370},
{x:933492,y:1692738,a:5.98354},
{x:933478,y:1692786,a:5.99006},
{x:933463,y:1692834,a:5.99627},
{x:933450,y:1692882,a:6.00632},
{x:933436,y:1692930,a:6.00883},
{x:933423,y:1692978,a:6.02011},
{x:933410,y:1693027,a:6.02377},
{x:933398,y:1693075,a:6.03149},
{x:933386,y:1693124,a:6.04025},
{x:933374,y:1693172,a:6.04950},
{x:933363,y:1693221,a:6.05101},
{x:933352,y:1693270,a:6.06139},
{x:933341,y:1693318,a:6.06976},
{x:933331,y:1693367,a:6.07520},
{x:933321,y:1693416,a:6.08232},
{x:933311,y:1693465,a:6.08928},
{x:933302,y:1693515,a:6.09732},
{x:933293,y:1693564,a:6.10401},
{x:933285,y:1693613,a:6.11211},
{x:933277,y:1693662,a:6.11887},
{x:933269,y:1693712,a:6.12647},
{x:933261,y:1693761,a:6.13088},
{x:933254,y:1693811,a:6.13854},
{x:933247,y:1693860,a:6.14739},
{x:933241,y:1693910,a:6.15633},
{x:933235,y:1693959,a:6.15895},
{x:933229,y:1694009,a:6.16861},
{x:933224,y:1694059,a:6.17625},
{x:933219,y:1694109,a:6.18224},
{x:933214,y:1694158,a:6.19162},
{x:933210,y:1694208,a:6.19540},
{x:933206,y:1694258,a:6.20627},
{x:933202,y:1694308,a:6.20879},
{x:933199,y:1694358,a:6.21813},
{x:933196,y:1694408,a:6.22506},
{x:933193,y:1694458,a:6.22888},
{x:933191,y:1694508,a:6.23130},
{x:933188,y:1694557,a:6.23658},
{x:933186,y:1694607,a:6.23962},
{x:933184,y:1694657,a:6.24138},
{x:933182,y:1694707,a:6.24138},
{x:933180,y:1694757,a:6.24212},
{x:933178,y:1694807,a:6.24258},
{x:933176,y:1694857,a:6.24258},
{x:933174,y:1694907,a:6.24258},
{x:933172,y:1694957,a:6.24258},
{x:933170,y:1695007,a:6.24258},
{x:933168,y:1695057,a:6.24258},
{x:933166,y:1695107,a:6.24258},
{x:933164,y:1695157,a:6.24258},
{x:933162,y:1695207,a:6.24258},
{x:933160,y:1695257,a:6.24258},
{x:933158,y:1695307,a:6.24258},
{x:933155,y:1695357,a:6.24258},
{x:933153,y:1695407,a:6.24258},
{x:933151,y:1695457,a:6.24258},
{x:933149,y:1695507,a:6.24258},
{x:933147,y:1695557,a:6.24258},
{x:933145,y:1695607,a:6.24258},
{x:933143,y:1695657,a:6.24258},
{x:933141,y:1695707,a:6.24258},
{x:933139,y:1695756,a:6.24258},
{x:933137,y:1695806,a:6.24258},
{x:933135,y:1695856,a:6.24258},
{x:933133,y:1695906,a:6.24258},
{x:933131,y:1695956,a:6.24258},
{x:933129,y:1696006,a:6.24258},
{x:933127,y:1696056,a:6.24258},
{x:933125,y:1696106,a:6.24258},
{x:933123,y:1696156,a:6.24258},
{x:933121,y:1696206,a:6.24258},
{x:933119,y:1696256,a:6.24258},
{x:933117,y:1696306,a:6.24258},
{x:933115,y:1696356,a:6.24258},
{x:933113,y:1696406,a:6.24258},
{x:933111,y:1696456,a:6.24258},
{x:933109,y:1696506,a:6.24258},
{x:933107,y:1696556,a:6.24258},
{x:933105,y:1696606,a:6.24258},
{x:933103,y:1696656,a:6.24258},
{x:933101,y:1696706,a:6.24258},
{x:933099,y:1696756,a:6.24258},
{x:933097,y:1696806,a:6.24258},
{x:933095,y:1696856,a:6.24258},
{x:933093,y:1696906,a:6.24258},
{x:933091,y:1696955,a:6.24258},
{x:933088,y:1697005,a:6.24258},
{x:933086,y:1697055,a:6.24258},
{x:933084,y:1697105,a:6.24258},
{x:933082,y:1697155,a:6.24258},
{x:933080,y:1697205,a:6.24258},
{x:933078,y:1697255,a:6.24258},
{x:933076,y:1697305,a:6.24258},
{x:933074,y:1697355,a:6.24258},
{x:933072,y:1697405,a:6.24258},
{x:933070,y:1697455,a:6.24258},
{x:933068,y:1697505,a:6.24258},
{x:933066,y:1697555,a:6.24258},
{x:933064,y:1697605,a:6.24258},
{x:933062,y:1697655,a:6.24258},
{x:933060,y:1697705,a:6.24258},
{x:933058,y:1697755,a:6.24258},
{x:933056,y:1697805,a:6.24258},
{x:933054,y:1697855,a:6.24258},
{x:933052,y:1697905,a:6.24258},
{x:933050,y:1697955,a:6.24258},
{x:933048,y:1698005,a:6.24258},
{x:933046,y:1698055,a:6.24258},
{x:933044,y:1698105,a:6.24258},
{x:933042,y:1698154,a:6.24258},
{x:933040,y:1698204,a:6.24258},
{x:933038,y:1698254,a:6.24258},
{x:933036,y:1698304,a:6.24258},
{x:933034,y:1698354,a:6.24258},
{x:933032,y:1698404,a:6.24258},
{x:933030,y:1698454,a:6.24258},
{x:933028,y:1698504,a:6.24258},
{x:933026,y:1698554,a:6.24258},
{x:933024,y:1698604,a:6.24258},
{x:933022,y:1698654,a:6.24259},
{x:933019,y:1698704,a:6.24259},
{x:933017,y:1698754,a:6.24259},
{x:933015,y:1698804,a:6.24259},
{x:933013,y:1698854,a:6.24259},
{x:933011,y:1698904,a:6.24259},
{x:933009,y:1698954,a:6.24259},
{x:933007,y:1699004,a:6.24259},
{x:933005,y:1699054,a:6.24259},
{x:933003,y:1699104,a:6.24259},
{x:933001,y:1699154,a:6.24259},
{x:932999,y:1699204,a:6.24259},
{x:932997,y:1699254,a:6.24259},
{x:932995,y:1699304,a:6.24259},
{x:932993,y:1699353,a:6.24259},
{x:932991,y:1699403,a:6.24259},
{x:932989,y:1699453,a:6.24259},
{x:932987,y:1699503,a:6.24259},
{x:932985,y:1699553,a:6.24259},
{x:932983,y:1699603,a:6.24259},
{x:932981,y:1699653,a:6.24259},
{x:932979,y:1699703,a:6.24259},
{x:932977,y:1699753,a:6.24259},
{x:932975,y:1699803,a:6.24259},
{x:932973,y:1699853,a:6.24259},
{x:932971,y:1699903,a:6.24259},
{x:932969,y:1699953,a:6.24259},
{x:932967,y:1700003,a:6.24259},
{x:932965,y:1700053,a:6.24259},
{x:932963,y:1700103,a:6.24259},
{x:932961,y:1700153,a:6.24259},
{x:932959,y:1700203,a:6.24259},
{x:932957,y:1700253,a:6.24259},
{x:932955,y:1700303,a:6.24259},
{x:932953,y:1700353,a:6.24259},
{x:932950,y:1700403,a:6.24259},
{x:932948,y:1700453,a:6.24259},
{x:932946,y:1700503,a:6.24259},
{x:932944,y:1700553,a:6.24259},
{x:932942,y:1700602,a:6.24259},
{x:932940,y:1700652,a:6.24259},
{x:932938,y:1700702,a:6.24259},
{x:932936,y:1700752,a:6.24259},
{x:932934,y:1700802,a:6.24259},
{x:932932,y:1700852,a:6.24259},
{x:932930,y:1700902,a:6.24259},
{x:932928,y:1700952,a:6.24259},
{x:932926,y:1701002,a:6.24259},
{x:932924,y:1701052,a:6.24259},
{x:932922,y:1701102,a:6.24259},
{x:932920,y:1701152,a:6.24264},
{x:932918,y:1701202,a:6.24388},
{x:932916,y:1701252,a:6.24388},
{x:932914,y:1701302,a:6.24388},
{x:932912,y:1701352,a:6.24851},
{x:932911,y:1701402,a:6.25037},
{x:932909,y:1701452,a:6.25494},
{x:932908,y:1701502,a:6.26170},
{x:932907,y:1701552,a:6.26429},
{x:932907,y:1701602,a:6.27223},
{x:932907,y:1701652,a:6.27703},
{x:932907,y:1701702,a:0.00266},
{x:932907,y:1701752,a:0.01145},
{x:932908,y:1701802,a:0.01561},
{x:932909,y:1701852,a:0.02576},
{x:932911,y:1701902,a:0.02961},
{x:932913,y:1701952,a:0.03808},
{x:932915,y:1702002,a:0.04561},
{x:932918,y:1702052,a:0.05254},
{x:932921,y:1702101,a:0.05984},
{x:932924,y:1702151,a:0.06627},
{x:932928,y:1702201,a:0.07561},
{x:932932,y:1702251,a:0.08043},
{x:932936,y:1702301,a:0.08947},
{x:932941,y:1702351,a:0.09336},
{x:932946,y:1702400,a:0.10132},
{x:932951,y:1702450,a:0.10760},
{x:932957,y:1702500,a:0.11427},
{x:932963,y:1702549,a:0.11665},
{x:932969,y:1702599,a:0.12195},
{x:932975,y:1702649,a:0.12195},
{x:932987,y:1702748,a:0.12599},
{x:932994,y:1702797,a:0.12631},
{x:933000,y:1702847,a:0.12648},
{x:933006,y:1702896,a:0.12648},
{x:933013,y:1702946,a:0.12648},
{x:933019,y:1702996,a:0.12648},
{x:933025,y:1703045,a:0.12648},
{x:933031,y:1703095,a:0.12648},
{x:933038,y:1703144,a:0.12648},
{x:933044,y:1703194,a:0.12648},
{x:933050,y:1703244,a:0.12648},
{x:933057,y:1703293,a:0.12648},
{x:933063,y:1703343,a:0.12648},
{x:933069,y:1703392,a:0.12648},
{x:933076,y:1703442,a:0.12648},
{x:933082,y:1703492,a:0.12648},
{x:933088,y:1703541,a:0.12648},
{x:933095,y:1703591,a:0.12648},
{x:933101,y:1703640,a:0.12648},
{x:933107,y:1703690,a:0.12648},
{x:933113,y:1703740,a:0.12648},
{x:933120,y:1703789,a:0.12648},
{x:933126,y:1703839,a:0.12648},
{x:933132,y:1703888,a:0.12648},
{x:933139,y:1703938,a:0.12648},
{x:933145,y:1703988,a:0.12648},
{x:933151,y:1704037,a:0.12648},
{x:933158,y:1704087,a:0.12648},
{x:933164,y:1704136,a:0.12648},
{x:933170,y:1704186,a:0.12648},
{x:933177,y:1704236,a:0.12648},
{x:933183,y:1704285,a:0.12648},
{x:933189,y:1704335,a:0.12648},
{x:933195,y:1704384,a:0.12648},
{x:933202,y:1704434,a:0.12648},
{x:933208,y:1704484,a:0.12648},
{x:933214,y:1704533,a:0.12648},
{x:933221,y:1704583,a:0.12648},
{x:933227,y:1704632,a:0.12648},
{x:933233,y:1704682,a:0.12648},
{x:933240,y:1704732,a:0.12648},
{x:933246,y:1704781,a:0.12648},
{x:933252,y:1704831,a:0.12648},
{x:933259,y:1704880,a:0.12648},
{x:933265,y:1704930,a:0.12648},
{x:933271,y:1704980,a:0.12648},
{x:933277,y:1705029,a:0.12648},
{x:933284,y:1705079,a:0.12648},
{x:933290,y:1705128,a:0.12648},
{x:933296,y:1705178,a:0.12648},
{x:933303,y:1705228,a:0.12648},
{x:933309,y:1705277,a:0.12648},
{x:933315,y:1705327,a:0.12648},
{x:933322,y:1705376,a:0.12648},
{x:933328,y:1705426,a:0.12648},
{x:933334,y:1705476,a:0.12648},
{x:933341,y:1705525,a:0.12648},
{x:933347,y:1705575,a:0.12648},
{x:933353,y:1705624,a:0.12648},
{x:933359,y:1705674,a:0.12648},
{x:933366,y:1705724,a:0.12648},
{x:933372,y:1705773,a:0.12648},
{x:933378,y:1705823,a:0.12648},
{x:933385,y:1705872,a:0.12648},
{x:933391,y:1705922,a:0.12648},
{x:933397,y:1705972,a:0.12648},
{x:933404,y:1706021,a:0.12648},
{x:933410,y:1706071,a:0.12648},
{x:933416,y:1706120,a:0.12648},
{x:933423,y:1706170,a:0.12648},
{x:933429,y:1706220,a:0.12648},
{x:933435,y:1706269,a:0.12648},
{x:933441,y:1706319,a:0.12648},
{x:933448,y:1706368,a:0.12648},
{x:933454,y:1706418,a:0.12648},
{x:933460,y:1706468,a:0.12648},
{x:933467,y:1706517,a:0.12648},
{x:933473,y:1706567,a:0.12648},
{x:933479,y:1706616,a:0.12648},
{x:933486,y:1706666,a:0.12648},
{x:933492,y:1706716,a:0.12648},
{x:933498,y:1706765,a:0.12648},
{x:933505,y:1706815,a:0.12648},
{x:933511,y:1706864,a:0.12648},
{x:933517,y:1706914,a:0.12648},
{x:933523,y:1706964,a:0.12648},
{x:933530,y:1707013,a:0.12648},
{x:933536,y:1707063,a:0.12648},
{x:933542,y:1707112,a:0.12648},
{x:933549,y:1707162,a:0.12648},
{x:933555,y:1707212,a:0.12648},
{x:933561,y:1707261,a:0.12648},
{x:933568,y:1707311,a:0.12648},
{x:933574,y:1707360,a:0.12648},
{x:933580,y:1707410,a:0.12648},
{x:933587,y:1707460,a:0.12648},
{x:933593,y:1707509,a:0.12648},
{x:933599,y:1707559,a:0.12648},
{x:933605,y:1707608,a:0.12648},
{x:933612,y:1707658,a:0.12648},
{x:933618,y:1707708,a:0.12648},
{x:933624,y:1707757,a:0.12648},
{x:933631,y:1707807,a:0.12648},
{x:933637,y:1707856,a:0.12648},
{x:933643,y:1707906,a:0.12648},
{x:933650,y:1707956,a:0.12648},
{x:933656,y:1708005,a:0.12648},
{x:933662,y:1708055,a:0.12648},
{x:933669,y:1708104,a:0.12648},
{x:933675,y:1708154,a:0.12648},
{x:933681,y:1708204,a:0.12648},
{x:933687,y:1708253,a:0.12648},
{x:933694,y:1708303,a:0.12648},
{x:933700,y:1708352,a:0.12648},
{x:933706,y:1708402,a:0.12648},
{x:933713,y:1708452,a:0.12648},
{x:933719,y:1708501,a:0.12648},
{x:933725,y:1708551,a:0.12648},
{x:933732,y:1708600,a:0.12648},
{x:933738,y:1708650,a:0.12648},
{x:933744,y:1708700,a:0.12648},
{x:933751,y:1708749,a:0.12648},
{x:933757,y:1708799,a:0.12648},
{x:933763,y:1708848,a:0.12648},
{x:933769,y:1708898,a:0.12648},
{x:933776,y:1708948,a:0.12648},
{x:933782,y:1708997,a:0.12648},
{x:933788,y:1709047,a:0.12648},
{x:933795,y:1709096,a:0.12648},
{x:933801,y:1709146,a:0.12648},
{x:933807,y:1709196,a:0.12648},
{x:933814,y:1709245,a:0.12648},
{x:933820,y:1709295,a:0.12648},
{x:933826,y:1709344,a:0.12648},
{x:933833,y:1709394,a:0.12648},
{x:933839,y:1709444,a:0.12648},
{x:933845,y:1709493,a:0.12648},
{x:933851,y:1709543,a:0.12648},
{x:933858,y:1709592,a:0.12648},
{x:933864,y:1709642,a:0.12648},
{x:933870,y:1709692,a:0.12648},
{x:933877,y:1709741,a:0.12648},
{x:933883,y:1709791,a:0.12648},
{x:933889,y:1709840,a:0.12648},
{x:933896,y:1709890,a:0.12648},
{x:933902,y:1709940,a:0.12648},
{x:933908,y:1709989,a:0.12648},
{x:933915,y:1710039,a:0.12648},
{x:933921,y:1710088,a:0.12648},
{x:933927,y:1710138,a:0.12648},
{x:933933,y:1710188,a:0.12648},
{x:933940,y:1710237,a:0.12648},
{x:933946,y:1710287,a:0.12648},
{x:933952,y:1710336,a:0.12648},
{x:933959,y:1710386,a:0.12648},
{x:933965,y:1710436,a:0.12648},
{x:933971,y:1710485,a:0.12648},
{x:933978,y:1710535,a:0.12648},
{x:933984,y:1710584,a:0.12648},
{x:933990,y:1710634,a:0.12648},
{x:933997,y:1710684,a:0.12648},
{x:934003,y:1710733,a:0.12648},
{x:934009,y:1710783,a:0.12648},
{x:934015,y:1710833,a:0.12648},
{x:934022,y:1710882,a:0.12648},
{x:934028,y:1710932,a:0.12648},
{x:934034,y:1710981,a:0.12648},
{x:934041,y:1711031,a:0.12648},
{x:934047,y:1711081,a:0.12648},
{x:934053,y:1711130,a:0.12648},
{x:934060,y:1711180,a:0.12648},
{x:934066,y:1711229,a:0.12648},
{x:934072,y:1711279,a:0.12648},
{x:934078,y:1711329,a:0.12648},
{x:934085,y:1711378,a:0.12648},
{x:934091,y:1711428,a:0.12648},
{x:934097,y:1711477,a:0.12648},
{x:934104,y:1711527,a:0.12648},
{x:934110,y:1711577,a:0.12648},
{x:934116,y:1711626,a:0.12648},
{x:934123,y:1711676,a:0.12648},
{x:934129,y:1711725,a:0.12648},
{x:934135,y:1711775,a:0.12648},
{x:934142,y:1711825,a:0.12648},
{x:934148,y:1711874,a:0.12648},
{x:934154,y:1711924,a:0.12648},
{x:934160,y:1711973,a:0.12648},
{x:934167,y:1712023,a:0.12648},
{x:934173,y:1712073,a:0.12648},
{x:934179,y:1712122,a:0.12648},
{x:934186,y:1712172,a:0.12648},
{x:934192,y:1712221,a:0.12648},
{x:934198,y:1712271,a:0.12648},
{x:934205,y:1712321,a:0.12648},
{x:934211,y:1712370,a:0.12648},
{x:934217,y:1712420,a:0.12648},
{x:934224,y:1712469,a:0.12648},
{x:934230,y:1712519,a:0.12648},
{x:934236,y:1712569,a:0.12648},
{x:934242,y:1712618,a:0.12648},
{x:934249,y:1712668,a:0.12648},
{x:934255,y:1712717,a:0.12648},
{x:934261,y:1712767,a:0.12648},
{x:934268,y:1712817,a:0.12648},
{x:934274,y:1712866,a:0.12648},
{x:934280,y:1712916,a:0.12648},
{x:934287,y:1712965,a:0.12648},
{x:934293,y:1713015,a:0.12648},
{x:934299,y:1713065,a:0.12731},
{x:934306,y:1713114,a:0.12749},
{x:934312,y:1713164,a:0.12749},
{x:934319,y:1713213,a:0.13160},
{x:934325,y:1713263,a:0.13217},
{x:934332,y:1713312,a:0.13790},
{x:934339,y:1713362,a:0.13972},
{x:934346,y:1713411,a:0.14315},
{x:934353,y:1713461,a:0.14717},
{x:934361,y:1713510,a:0.15341},
{x:934369,y:1713560,a:0.15425},
{x:934377,y:1713609,a:0.16123},
{x:934385,y:1713658,a:0.16317},
{x:934393,y:1713708,a:0.16535},
{x:934402,y:1713757,a:0.17213},
{x:934410,y:1713806,a:0.17293},
{x:934419,y:1713855,a:0.17860},
{x:934428,y:1713905,a:0.18339},
{x:934438,y:1713954,a:0.18617},
{x:934447,y:1714003,a:0.19110},
{x:934457,y:1714052,a:0.19244},
{x:934466,y:1714101,a:0.19763},
{x:934477,y:1714150,a:0.20324},
{x:934487,y:1714199,a:0.20383},
{x:934497,y:1714248,a:0.21073},
{x:934508,y:1714297,a:0.21221},
{x:934518,y:1714345,a:0.21749},
{x:934529,y:1714394,a:0.22114},
{x:934541,y:1714443,a:0.22495},
{x:934552,y:1714492,a:0.22759},
{x:934563,y:1714540,a:0.23406},
{x:934575,y:1714589,a:0.23406},
{x:934587,y:1714637,a:0.23945},
{x:934599,y:1714686,a:0.23999},
{x:934611,y:1714735,a:0.23999},
{x:934623,y:1714783,a:0.24057},
{x:934635,y:1714832,a:0.24142},
{x:934646,y:1714880,a:0.24142},
{x:934658,y:1714929,a:0.24142},
{x:934670,y:1714977,a:0.24142},
{x:934682,y:1715026,a:0.24142},
{x:934694,y:1715074,a:0.24142},
{x:934706,y:1715123,a:0.24142},
{x:934718,y:1715172,a:0.24142},
{x:934730,y:1715220,a:0.24142},
{x:934742,y:1715269,a:0.24142},
{x:934754,y:1715317,a:0.24142},
{x:934766,y:1715366,a:0.24142},
{x:934778,y:1715414,a:0.24142},
{x:934790,y:1715463,a:0.24142},
{x:934802,y:1715511,a:0.24142},
{x:934814,y:1715560,a:0.24142},
{x:934826,y:1715609,a:0.24142},
{x:934838,y:1715657,a:0.24142},
{x:934850,y:1715706,a:0.24142},
{x:934862,y:1715754,a:0.24142},
{x:934874,y:1715803,a:0.24142},
{x:934886,y:1715851,a:0.24142},
{x:934898,y:1715900,a:0.24142},
{x:934909,y:1715948,a:0.24095},
{x:934921,y:1715997,a:0.24040},
{x:934933,y:1716045,a:0.24040},
{x:934945,y:1716094,a:0.23872},
{x:934957,y:1716143,a:0.23554},
{x:934968,y:1716191,a:0.23266},
{x:934980,y:1716240,a:0.22935},
{x:934991,y:1716289,a:0.22551},
{x:935002,y:1716338,a:0.22181},
{x:935013,y:1716386,a:0.21564},
{x:935023,y:1716435,a:0.21496},
{x:935034,y:1716484,a:0.20971},
{x:935044,y:1716533,a:0.20674},
{x:935054,y:1716582,a:0.19996},
{x:935064,y:1716631,a:0.19996},
{x:935073,y:1716680,a:0.19422},
{x:935083,y:1716729,a:0.19181},
{x:935092,y:1716778,a:0.18531},
{x:935101,y:1716828,a:0.18446},
{x:935110,y:1716877,a:0.17703},
{x:935119,y:1716926,a:0.17607},
{x:935128,y:1716975,a:0.17405},
{x:935136,y:1717024,a:0.16948},
{x:935144,y:1717074,a:0.16948},
{x:935153,y:1717123,a:0.16948},
{x:935161,y:1717172,a:0.16830},
{x:935170,y:1717222,a:0.16811},
{x:935178,y:1717271,a:0.16811},
{x:935186,y:1717320,a:0.16811},
{x:935195,y:1717370,a:0.16811},
{x:935203,y:1717419,a:0.16811},
{x:935211,y:1717468,a:0.16811},
{x:935220,y:1717517,a:0.16811},
{x:935228,y:1717567,a:0.16811},
{x:935236,y:1717616,a:0.16811},
{x:935245,y:1717665,a:0.16811},
{x:935253,y:1717715,a:0.16811},
{x:935262,y:1717764,a:0.16811},
{x:935270,y:1717813,a:0.16811},
{x:935278,y:1717862,a:0.16811},
{x:935287,y:1717912,a:0.16811},
{x:935295,y:1717961,a:0.16811},
{x:935303,y:1718010,a:0.16811},
{x:935312,y:1718060,a:0.16811},
{x:935320,y:1718109,a:0.16811},
{x:935329,y:1718158,a:0.16811},
{x:935337,y:1718208,a:0.16811},
{x:935345,y:1718257,a:0.16811},
{x:935354,y:1718306,a:0.16811},
{x:935362,y:1718355,a:0.16811},
{x:935370,y:1718405,a:0.16811},
{x:935379,y:1718454,a:0.16811},
{x:935387,y:1718503,a:0.16811},
{x:935395,y:1718553,a:0.16811},
{x:935404,y:1718602,a:0.16811},
{x:935412,y:1718651,a:0.16811},
{x:935421,y:1718701,a:0.16811},
{x:935429,y:1718750,a:0.16811},
{x:935437,y:1718799,a:0.16811},
{x:935446,y:1718848,a:0.16811},
{x:935454,y:1718898,a:0.16811},
{x:935462,y:1718947,a:0.16811},
{x:935471,y:1718996,a:0.16811},
{x:935479,y:1719046,a:0.16811},
{x:935487,y:1719095,a:0.16811},
{x:935496,y:1719144,a:0.16811},
{x:935504,y:1719193,a:0.16811},
{x:935513,y:1719243,a:0.16811},
{x:935521,y:1719292,a:0.16811},
{x:935529,y:1719341,a:0.16811},
{x:935538,y:1719391,a:0.16811},
{x:935546,y:1719440,a:0.16811},
{x:935554,y:1719489,a:0.16811},
{x:935563,y:1719539,a:0.16811},
{x:935571,y:1719588,a:0.16811},
{x:935579,y:1719637,a:0.16811},
{x:935588,y:1719686,a:0.16811},
{x:935596,y:1719736,a:0.16811},
{x:935605,y:1719785,a:0.16811},
{x:935613,y:1719834,a:0.16811},
{x:935621,y:1719884,a:0.16811},
{x:935630,y:1719933,a:0.16846},
{x:935638,y:1719982,a:0.16947},
{x:935647,y:1720031,a:0.17107},
{x:935655,y:1720081,a:0.17308},
{x:935664,y:1720130,a:0.17719},
{x:935673,y:1720179,a:0.17897},
{x:935682,y:1720228,a:0.18496},
{x:935692,y:1720277,a:0.19016},
{x:935701,y:1720326,a:0.19819},
{x:935712,y:1720375,a:0.20310},
{x:935722,y:1720424,a:0.21252},
{x:935733,y:1720473,a:0.21782},
{x:935744,y:1720522,a:0.22577},
{x:935756,y:1720570,a:0.23276},
{x:935767,y:1720619,a:0.23810},
{x:935780,y:1720667,a:0.24698},
{x:935792,y:1720716,a:0.25583},
{x:935805,y:1720764,a:0.25964},
{x:935818,y:1720812,a:0.26805},
{x:935832,y:1720860,a:0.27769},
{x:935846,y:1720909,a:0.28111},
{x:935860,y:1720956,a:0.29012},
{x:935875,y:1721004,a:0.29790},
{x:935890,y:1721052,a:0.30277},
{x:935905,y:1721100,a:0.31233},
{x:935921,y:1721147,a:0.31577},
{x:935937,y:1721194,a:0.32560},
{x:935953,y:1721242,a:0.33291},
{x:935970,y:1721289,a:0.34085},
{x:935987,y:1721336,a:0.34605},
{x:936004,y:1721383,a:0.35440},
{x:936022,y:1721430,a:0.35912},
{x:936040,y:1721476,a:0.36551},
{x:936058,y:1721523,a:0.37130},
{x:936076,y:1721569,a:0.37375},
{x:936094,y:1721616,a:0.37699},
{x:936113,y:1721662,a:0.38084},
{x:936131,y:1721709,a:0.38084},
{x:936150,y:1721755,a:0.38123},
{x:936169,y:1721802,a:0.38212},
{x:936187,y:1721848,a:0.38212},
{x:936206,y:1721894,a:0.38212},
{x:936225,y:1721941,a:0.38212},
{x:936243,y:1721987,a:0.38212},
{x:936262,y:1722033,a:0.38212},
{x:936281,y:1722080,a:0.38212},
{x:936299,y:1722126,a:0.38212},
{x:936318,y:1722173,a:0.38212},
{x:936337,y:1722219,a:0.38212},
{x:936355,y:1722265,a:0.38212},
{x:936374,y:1722312,a:0.38212},
{x:936392,y:1722358,a:0.38212},
{x:936411,y:1722405,a:0.38212},
{x:936430,y:1722451,a:0.38212},
{x:936448,y:1722497,a:0.38212},
{x:936467,y:1722544,a:0.38212},
{x:936486,y:1722590,a:0.38212},
{x:936504,y:1722637,a:0.38212},
{x:936523,y:1722683,a:0.38212},
{x:936542,y:1722729,a:0.38212},
{x:936560,y:1722776,a:0.38212},
{x:936579,y:1722822,a:0.38212},
{x:936598,y:1722869,a:0.38212},
{x:936616,y:1722915,a:0.38212},
{x:936635,y:1722961,a:0.38212},
{x:936654,y:1723008,a:0.38212},
{x:936672,y:1723054,a:0.38212},
{x:936691,y:1723101,a:0.38212},
{x:936709,y:1723147,a:0.38212},
{x:936728,y:1723193,a:0.38212},
{x:936747,y:1723240,a:0.38212},
{x:936765,y:1723286,a:0.38212},
{x:936784,y:1723333,a:0.38212},
{x:936803,y:1723379,a:0.38212},
{x:936821,y:1723425,a:0.38212},
{x:936840,y:1723472,a:0.38212},
{x:936859,y:1723518,a:0.38212},
{x:936877,y:1723564,a:0.38212},
{x:936896,y:1723611,a:0.38212},
{x:936915,y:1723657,a:0.38212},
{x:936933,y:1723704,a:0.38212},
{x:936952,y:1723750,a:0.38212},
{x:936970,y:1723796,a:0.38212},
{x:936989,y:1723843,a:0.38212},
{x:937008,y:1723889,a:0.38212},
{x:937026,y:1723936,a:0.38212},
{x:937045,y:1723982,a:0.38212},
{x:937064,y:1724028,a:0.38212},
{x:937082,y:1724075,a:0.38212},
{x:937101,y:1724121,a:0.38212},
{x:937120,y:1724168,a:0.38212},
{x:937138,y:1724214,a:0.38212},
{x:937157,y:1724260,a:0.38212},
{x:937176,y:1724307,a:0.38212},
{x:937194,y:1724353,a:0.38212},
{x:937213,y:1724400,a:0.38212},
{x:937231,y:1724446,a:0.38212},
{x:937250,y:1724492,a:0.38212},
{x:937269,y:1724539,a:0.38212},
{x:937287,y:1724585,a:0.38212},
{x:937306,y:1724632,a:0.38212},
{x:937325,y:1724678,a:0.38212},
{x:937343,y:1724724,a:0.38212},
{x:937362,y:1724771,a:0.38212},
{x:937381,y:1724817,a:0.38212},
{x:937399,y:1724864,a:0.38212},
{x:937418,y:1724910,a:0.38212},
{x:937437,y:1724956,a:0.38212},
{x:937455,y:1725003,a:0.38212},
{x:937474,y:1725049,a:0.38212},
{x:937493,y:1725095,a:0.38212},
{x:937511,y:1725142,a:0.38212},
{x:937530,y:1725188,a:0.38212},
{x:937548,y:1725235,a:0.38212},
{x:937567,y:1725281,a:0.38212},
{x:937586,y:1725327,a:0.38212},
{x:937604,y:1725374,a:0.38212},
{x:937623,y:1725420,a:0.38212},
{x:937642,y:1725467,a:0.38212},
{x:937660,y:1725513,a:0.38212},
{x:937679,y:1725559,a:0.38212},
{x:937698,y:1725606,a:0.38212},
{x:937716,y:1725652,a:0.38212},
{x:937735,y:1725699,a:0.38212},
{x:937754,y:1725745,a:0.38212},
{x:937772,y:1725791,a:0.38212},
{x:937791,y:1725838,a:0.38212},
{x:937809,y:1725884,a:0.38212},
{x:937828,y:1725931,a:0.38212},
{x:937847,y:1725977,a:0.38212},
{x:937865,y:1726023,a:0.38212},
{x:937884,y:1726070,a:0.38212},
{x:937903,y:1726116,a:0.38212},
{x:937921,y:1726163,a:0.38212},
{x:937940,y:1726209,a:0.38213},
{x:937959,y:1726255,a:0.38213},
{x:937977,y:1726302,a:0.38213},
{x:937996,y:1726348,a:0.38213},
{x:938015,y:1726395,a:0.38213},
{x:938033,y:1726441,a:0.38213},
{x:938052,y:1726487,a:0.38213},
{x:938070,y:1726534,a:0.38213},
{x:938089,y:1726580,a:0.38213},
{x:938108,y:1726626,a:0.38213},
{x:938126,y:1726673,a:0.38213},
{x:938145,y:1726719,a:0.38213},
{x:938164,y:1726766,a:0.38213},
{x:938182,y:1726812,a:0.38213},
{x:938201,y:1726858,a:0.38213},
{x:938220,y:1726905,a:0.38213},
{x:938238,y:1726951,a:0.38213},
{x:938257,y:1726998,a:0.38213},
{x:938276,y:1727044,a:0.38213},
{x:938294,y:1727090,a:0.38213},
{x:938313,y:1727137,a:0.38213},
{x:938332,y:1727183,a:0.38213},
{x:938350,y:1727230,a:0.38213},
{x:938369,y:1727276,a:0.38213},
{x:938387,y:1727322,a:0.38213},
{x:938406,y:1727369,a:0.38213},
{x:938425,y:1727415,a:0.38213},
{x:938443,y:1727462,a:0.38213},
{x:938462,y:1727508,a:0.38213},
{x:938481,y:1727554,a:0.38213},
{x:938499,y:1727601,a:0.38213},
{x:938518,y:1727647,a:0.38213},
{x:938537,y:1727694,a:0.38213},
{x:938555,y:1727740,a:0.38213},
{x:938574,y:1727786,a:0.38213},
{x:938593,y:1727833,a:0.38213},
{x:938611,y:1727879,a:0.38213},
{x:938630,y:1727925,a:0.38213},
{x:938648,y:1727972,a:0.38213},
{x:938667,y:1728018,a:0.38213},
{x:938686,y:1728065,a:0.38213},
{x:938704,y:1728111,a:0.38213},
{x:938723,y:1728157,a:0.38213},
{x:938742,y:1728204,a:0.38213},
{x:938760,y:1728250,a:0.38213},
{x:938779,y:1728297,a:0.38213},
{x:938798,y:1728343,a:0.38213},
{x:938816,y:1728389,a:0.38213},
{x:938835,y:1728436,a:0.38213},
{x:938854,y:1728482,a:0.38213},
{x:938872,y:1728529,a:0.38213},
{x:938891,y:1728575,a:0.38213},
{x:938910,y:1728621,a:0.38213},
{x:938928,y:1728668,a:0.38284},
{x:938947,y:1728714,a:0.38297},
{x:938966,y:1728760,a:0.38556},
{x:938985,y:1728807,a:0.38721},
{x:939004,y:1728853,a:0.39007},
{x:939023,y:1728899,a:0.39414},
{x:939042,y:1728945,a:0.39922},
{x:939062,y:1728991,a:0.40496},
{x:939082,y:1729037,a:0.40994},
{x:939102,y:1729083,a:0.42168},
{x:939123,y:1729128,a:0.42168},
{x:939144,y:1729174,a:0.44247},
{x:939166,y:1729219,a:0.44338},
{x:939187,y:1729264,a:0.44338},
{x:939209,y:1729309,a:0.44338},
{x:939231,y:1729354,a:0.47076},
{x:939254,y:1729398,a:0.47192},
{x:939277,y:1729443,a:0.47192},
{x:939299,y:1729487,a:0.47192},
{x:939323,y:1729531,a:0.49966},
{x:939347,y:1729575,a:0.50049},
{x:939371,y:1729619,a:0.50049},
{x:939395,y:1729663,a:0.50049},
{x:939420,y:1729706,a:0.52518},
{x:939446,y:1729749,a:0.52614},
{x:939471,y:1729792,a:0.52614},
{x:939496,y:1729835,a:0.54023},
{x:939522,y:1729878,a:0.54396},
{x:939548,y:1729921,a:0.55232},
{x:939575,y:1729963,a:0.55617},
{x:939602,y:1730005,a:0.56258},
{x:939628,y:1730048,a:0.56258},
{x:939655,y:1730090,a:0.56624},
{x:939682,y:1730132,a:0.56855},
{x:939709,y:1730174,a:0.56855},
{x:939736,y:1730216,a:0.56939},
{x:939763,y:1730258,a:0.56961},
{x:939790,y:1730300,a:0.56961},
{x:939817,y:1730343,a:0.56961},
{x:939844,y:1730385,a:0.56961},
{x:939871,y:1730427,a:0.56961},
{x:939898,y:1730469,a:0.56961},
{x:939925,y:1730511,a:0.56961},
{x:939952,y:1730553,a:0.56961},
{x:939978,y:1730595,a:0.56961},
{x:940005,y:1730637,a:0.56961},
{x:940032,y:1730679,a:0.56961},
{x:940059,y:1730722,a:0.56961},
{x:940086,y:1730764,a:0.56961},
{x:940113,y:1730806,a:0.56961},
{x:940140,y:1730848,a:0.56961},
{x:940167,y:1730890,a:0.56961},
{x:940194,y:1730932,a:0.56961},
{x:940221,y:1730974,a:0.56961},
{x:940248,y:1731016,a:0.56961},
{x:940275,y:1731058,a:0.56961},
{x:940302,y:1731100,a:0.56961},
{x:940329,y:1731143,a:0.56961},
{x:940356,y:1731185,a:0.56961},
{x:940383,y:1731227,a:0.56961},
{x:940410,y:1731269,a:0.56961},
{x:940437,y:1731311,a:0.56961},
{x:940464,y:1731353,a:0.56961},
{x:940491,y:1731395,a:0.56961},
{x:940518,y:1731437,a:0.56961},
{x:940545,y:1731479,a:0.56961},
{x:940572,y:1731522,a:0.56961},
{x:940599,y:1731564,a:0.56961},
{x:940626,y:1731606,a:0.56961},
{x:940653,y:1731648,a:0.56961},
{x:940680,y:1731690,a:0.56961},
{x:940707,y:1731732,a:0.56961},
{x:940734,y:1731774,a:0.56961},
{x:940760,y:1731816,a:0.56961},
{x:940787,y:1731858,a:0.56961},
{x:940814,y:1731900,a:0.56961},
{x:940841,y:1731943,a:0.56961},
{x:940868,y:1731985,a:0.56961},
{x:940895,y:1732027,a:0.56961},
{x:940922,y:1732069,a:0.56961},
{x:940949,y:1732111,a:0.56961},
{x:940976,y:1732153,a:0.56961},
{x:941003,y:1732195,a:0.56961},
{x:941030,y:1732237,a:0.56961},
{x:941057,y:1732279,a:0.56961},
{x:941084,y:1732322,a:0.56913},
{x:941111,y:1732364,a:0.56880},
{x:941138,y:1732406,a:0.56769},
{x:941165,y:1732448,a:0.56451},
{x:941191,y:1732490,a:0.56451},
{x:941218,y:1732533,a:0.55825},
{x:941244,y:1732575,a:0.55649},
{x:941270,y:1732618,a:0.55020},
{x:941296,y:1732661,a:0.54508},
{x:941322,y:1732703,a:0.54508},
{x:941347,y:1732746,a:0.52888},
{x:941373,y:1732790,a:0.52869},
{x:941398,y:1732833,a:0.52869},
{x:941423,y:1732876,a:0.00000}
]

;
var workList = [
{"x":935326.276520657,"y":1682849.67716602,"w_name":"선로유지보수","w_cnt":5,"w_master":"홍길동","m_phone":"010-9939-4949","d_name":"이진수","d_phone":"010-3949-2289","o_name":"김한수"},
{"x":935487.065885744,"y":1682943.77548763,"w_name":"신호기점검","w_cnt":3,"w_master":"오만석","m_phone":"010-8383-4848","d_name":"김도형","d_phone":"010-6748-7383","o_name":"임진웅"},
{"x":935872.338489207,"y":1683759.03783258,"w_name":"건축작업","w_cnt":15,"w_master":"김지수","m_phone":"010-4938-8483","d_name":"","d_phone":"","o_name":"김형수"},
{"x":935586.084695302,"y":1683201.72445511,"w_name":"선로유지보수","w_cnt":5,"w_master":"","m_phone":"","d_name":"","d_phone":"","o_name":""},
{"x":936048.81892172,"y":1684469.25497231,"w_name":"궤도회로점검","w_cnt":5,"w_master":"","m_phone":"","d_name":"","d_phone":"","o_name":""},
{"x":932977.274753581,"y":1702617.79358878,"w_name":"정기점검","w_cnt":5,"w_master":"","m_phone":"","d_name":"","d_phone":"","o_name":""},
{"x":933174.701185055,"y":1704322.34891644,"w_name":"터널 정기점검","w_cnt":5,"w_master":"","m_phone":"","d_name":"","d_phone":"","o_name":""},
{"x":933060.806581098,"y":1703275.96147577,"w_name":"신호등 점검","w_cnt":4,"w_master":"","m_phone":"","d_name":"","d_phone":"","o_name":""}
];
var workLabel = {w_name:'작업명', w_cnt:'작업인원', w_master:'직압책임', m_phone:'책임번호', d_name:'운행안내', d_phone:'전화번호', o_name:'철도감리'};
var doorList = [
{"x":935510.594829263,"y":1682981.88745349,"m_name":"광주시설사업소","p_name":"이수현","p_phone":"010-3877-4894"},
{"x":932940.119103723,"y":1702246.93233413,"m_name":"정업고속시설사업소","p_name":"차덕호","p_phone":"010-4758-3737"},
{"x":935240.817457532,"y":1682680.51638195,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935395.674455829,"y":1682986.98210854,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935619.702509008,"y":1683210.18954614,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935698.208066104,"y":1683385.66451087,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935645.620284392,"y":1683281.71987081,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935587.766886044,"y":1683270.09448344,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935762.968312245,"y":1683538.4357779,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935731.648150967,"y":1683454.86975807,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935698.549989263,"y":1683484.68545745,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935800.853398163,"y":1683685.73627441,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935845.440177977,"y":1683713.09012705,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935896.3183439,"y":1683817.03476711,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935880.179570838,"y":1683852.86831408,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935962.514667305,"y":1683973.49880425,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935920.389734228,"y":1683957.90710824,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936012.025140596,"y":1684160.32561783,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":935959.232204987,"y":1684099.60006495,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936002.724830696,"y":1684288.06810969,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936041.293762928,"y":1684282.87087769,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936064.818076206,"y":1684411.70752365,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936013.666371754,"y":1684340.31396825,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936087.248235375,"y":1684510.45493171,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936060.988536833,"y":1684546.83555573,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936117.063934759,"y":1684670.47496969,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936098.189776433,"y":1684712.8734413,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936153.171020253,"y":1684816.2710043,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":936128.005475819,"y":1684847.18085779,"m_name":"광주시설사업소","p_name":"","p_phone":""},
{"x":932963.916955525,"y":1702499.98966343,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933046.850417519,"y":1703131.91494805,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":932982.637248431,"y":1702789.2053667,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933019.872680347,"y":1702919.17035909,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933082.803637591,"y":1703608.89775357,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":932981.611478955,"y":1702637.08375367,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933012.179409288,"y":1702873.62619443,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933061.929228791,"y":1703414.41186126,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933084.188426381,"y":1703421.59224758,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933053.107611313,"y":1703334.40184226,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933075.059078061,"y":1703507.80817189,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933106.601489395,"y":1703590.84421083,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933085.470638225,"y":1703607.46167631,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933113.679298766,"y":1703825.84799738,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933131.732841514,"y":1703960.99312561,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933140.605747466,"y":1703889.75343563,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933224.718844355,"y":1704517.88337318,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933204.613762659,"y":1704519.57589282,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933232.155673044,"y":1704620.46032061,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933222.410863038,"y":1704664.97871579,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933254.825178424,"y":1704941.4235891,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":932954.069568572,"y":1702335.35366281,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":932973.200169267,"y":1702566.20308299,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933026.745335824,"y":1703169.76584165,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933062.954998264,"y":1703274.18917413,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933012.281986236,"y":1703092.21766939,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933343.451660999,"y":1705138.06359732,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933268.980797169,"y":1705135.19144279,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933313.499192352,"y":1705218.4839241,"m_name":"정업고속시설사업소","p_name":"","p_phone":""},
{"x":933292.573495076,"y":1705232.63954285,"m_name":"정업고속시설사업소","p_name":"","p_phone":""}
];
var p5179 = new ol.proj.Projection({
    code: "EPSG:5179",
    extent: [-170.0, -80.0, 170.0, 80.0]
  });
var _meta = {type:{}};
var ix = 0;
var rposition=0;
var map,map2,activeFeatures=[],renderLine = [],renderData={},activeRenderData = null,mcenter=[data[5].x,data[5].y],gg=false,
closelyMap,closelyView,mode='v',rightPannel=true;
$(function(){
    searchItem();
    setupSelect();
    mapLayerPopup();
    
	// Header
	$('.h_close').click(function() {
		$('header').toggleClass('open');
	});
    
    // Map Nav 
	$('.search_close').click(function(){
		if ($(this).hasClass('open')) {
            $('.search_area').animate({left: '20px'}, 300, 'easeInOutQuad');
            $(this).removeClass('open');
		} else {
            $('.search_area').animate({left: '-250px'}, 300, 'easeInOutQuad');
            $(this).addClass('open');
		}
	});
    
    
    // 시설물 더보기
    $('.search_area .more').click(function(){	
		var activeLayer = $(this).attr('aria-controls');
		if ($(this).hasClass('active')) {
            $('.box_more').hide();
            $('.more').removeClass('active')
            $(this).removeClass('active');
		} else {
            $('.box_more').hide();
            $('.more').removeClass('active');
            $(this).addClass('active');
            $('.' + activeLayer).show();
            $('.box_more button').click(function(){	
                $(this).parent().hide();
                $('.more').removeClass('active')
            });
		}
    });
    
    //모드
    $('.mode').click(function(){	
        $('.mode').removeClass('active');
        $(this).addClass('active');
        $('#mapFacilities').fadeOut();
        
        if ($(this).attr('aria-controls') !== 'search_landscape') {
			mode = 'h';
            $('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
            $('.search_portrait').stop().animate({bottom: '0'}, 500, 'easeInOutQuad');
            $('.search_area').stop().animate({bottom:'525px'}, 500, 'easeInOutQuad');
            $('.search_area .s1 ul').stop().animate({height:'63px'}, 500, 'easeInOutQuad');
            $('.search_area .s2, .search_area .s4, .search_area .search_form').slideUp(500);
            $('#search_open').slideDown(500);
			var d = data[ix];
			map.getView().animate({rotation:-d.a + 1.5707963267948966,center:[d.x,d.y],duration:400});
            $('.map_wraper').stop().animate({right: '0px',bottom: '400px'}, 600, 'easeInOutQuad',()=>{
				map.updateSize();
			});
            
            $('.search_area .s1 li > label.vl').click(function(){
                $('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
                $('.map_wraper').stop().animate({right: '0px'}, 300, 'easeInOutQuad');
            })
            
            return 'false';
		}else {
			mode = 'v';
            $('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
            $('.search_portrait').stop().animate({bottom: '-100%'}, 500, 'easeInOutQuad');
            $('.search_area').animate({bottom:'130px'}, 500, 'easeInOutQuad');
            $('.search_area .s1 ul').animate({height:'192px'}, 500, 'easeInOutQuad');
            $('.search_area .s2, .search_area .search_form').slideDown(500);
            $('.search_area .s4').slideDown(500);
            $('#search_open').slideUp(500).removeClass('open');
				var d = data[ix];
				map.getView().animate({rotation:-d.a,center:[d.x,d.y],duration:400});
            $('.map_wraper').stop().animate({right: '540px',bottom: '0px'}, 300, 'easeInOutQuad');
            
            if ($('.search_area .s1 li > label.vl').hasClass('checked')) {
                $('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
                $('.map_wraper').stop().animate({right: '540px',bottom: '0px'}, 600, 'easeInOutQuad',()=>{
					map.updateSize();
				});
            }else {
                $('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
                $('.map_wraper').stop().animate({right: '0px',bottom: '0px'}, 600, 'easeInOutQuad',()=>{
					map.updateSize();
				});
            }
	        searchItem();
            return 'true';
		}
    });
    
    //가로모드 메뉴 노출
    $('#search_open').click(function(){
        if ($(this).hasClass('open')) {
            $('.search_area').stop().animate({bottom:'525px'}, 500, 'easeInOutQuad');
            $('.search_area .s1 ul').stop().animate({height:'63px'}, 500, 'easeInOutQuad');
            $('.search_area .s2, .search_area .search_form').slideUp(500);
            $('.search_area .s4').slideUp(500);
            $(this).removeClass('open');
        }else {
            $('.search_area').stop().animate({bottom:'110px'}, 500, 'easeInOutQuad');
            $('.search_area .s1 ul').stop().animate({height:'192px'}, 500, 'easeInOutQuad');
            $('.search_area .s2, .search_area .search_form').slideDown(500);
            $('.search_area .s4').slideDown(500);
            $(this).addClass('open');
        }
    })
    
    //버튼 레이어 연결
    $('.s2 button').click(function(){	
        if ($(this).hasClass('current')) {
            $('.s2 button').removeClass('current');
            $(this).removeClass('current');
        }else {
            $('.s2 button').removeClass('current');
            $(this).addClass('current');
        }
		if(map)
			updateFeatures();
		
    });
    $('.s3 button').click(function(){	
		$(this).toggleClass('current');
		var l = $(this).data().layer;
		if($(this).hasClass('current')){
			layer[l].setVisible(true);
			if(l=='railc'){
				layer['brige'].setVisible(true);	
				layer['tunnel'].setVisible(true);	
			}
		}else{
			layer[l].setVisible(false);
			if(l=='railc'){
				layer['brige'].setVisible(false);	
				layer['tunnel'].setVisible(false);	
			}
		}
    });
    
    //지도 타입
    $('button[class^=type_]').click(function(){	
        $(this).hide().siblings('button[class^=type_]').show();
		if($(this).siblings('button[class^=type_]').data().type=='air'){
			base2.setVisible(false);
			base2_1.setVisible(true);
		}else{
			base2.setVisible(true);
			base2_1.setVisible(false);
		}
    });
    
    //출력
    $('.btn.print').click(function(){	
        $('div.loading').show();
        setTimeout(function(){$('div.loading').hide();},6000)
        
    });
    
    //시설물
    $('.search_landscape .item > i').click(function(){	
		if ($(this).parent().hasClass('current')) {
            $('.search_landscape .item').removeClass('current');
            $(this).parent().removeClass('current');
            $('.search_landscape .dim').fadeOut();
		} else {
            $('.search_landscape .item').removeClass('current');
            $(this).parent().addClass('current');
            $('.search_landscape .dim').fadeIn();
		}
    });
    //시설물 on,off
	$('.rightPannel input[type=checkbox]').on('click',function(){
		if($(this).is(':checked')){
		$('.s1 li button,.s1 li input[type=checkbox]').attr('disabled',false);
			rightPannel = true;
			$('.s1 li').removeClass('disabled');
				if($('.search_area .s1 li > label.vl').hasClass('checked')){
				$('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
				$('.map_wraper').stop().animate({right: '540px',bottom: '0px'}, 600, 'easeInOutQuad',()=>{
					map.updateSize();
				});
			}
			if($('.search_area .s1 li > label.il input[type=checkbox]:checked')){
				layer.olayer.setVisible(true);
			}
		}else{
			rightPannel = false;
			$('.s1 li').addClass('disabled');
			$('.s1 li button,.s1 li input[type=checkbox]').attr('disabled',true);
			$('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
			$('.map_wraper').stop().animate({right: '0px',bottom: '0px'}, 600, 'easeInOutQuad',()=>{
				map.updateSize();
			});
			layer.olayer.setVisible(false);
			
			layer.poi16.setVisible(false);
			layer.poi17.setVisible(false);
			layer.poi18.setVisible(false);
			layer.poi19.setVisible(false);
			layer.poi20.setVisible(false);
			layer.poi21.setVisible(false);
			layer.poi22.setVisible(false);
			layer.poi23.setVisible(false);
			for(var f in renderData){
				renderData[f].line.hide('draw');
			}
		}
	});
	
    //Datepicker
    $( "#datepicker" ).datepicker({
      showOn: "button",
      buttonImage: "images/btn/btn_cal.png",
      buttonImageOnly: true,
      buttonText: "Select date"
    });
    
	customScroller($('.search_area article').css('height','100%'));
    
	//input ckeckbox & input radio
	$('input[type=radio], input[type=checkbox]').click(function(){
        setuplabel();
    });
    setuplabel(); 
	
	
	$('.s4 button').eq(0).click(()=>{
				
		if($('.s4 button').eq(0).hasClass('active')){
			$('.s4 button').eq(0).removeClass('active');
			$('#map_area').fadeIn();
			$('#map_area2').fadeOut(()=>{
				base4.removeEventListener('precompose');
				base4.removeEventListener('postcompose');
				map2 = null;
				$('#map_area2').empty().append('<div class="swipe"><div class="bar"></div></div>');
			});
			if($('.search_area .s1 li > label.vl').hasClass('checked')){
				$('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
				$('.map_wraper').stop().animate({right: '540px'}, 600, 'easeInOutQuad',()=>{map.updateSize();});
			}
			setTimeout(function(){updateFeatures();},600);
			
		}else{
			$('.s4 button').eq(0).addClass('active');
			
            $('.search_area').stop().animate({left: '-250px'}, 500, 'easeInOutQuad');
            $('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
            $('.search_portrait').stop().animate({bottom: '-100%'}, 500, 'easeInOutQuad');
            $('.search_close').addClass('open');
            $('.map_wraper').stop().animate({right: '0px'}, 600, 'easeInOutQuad',()=>{map2.updateSize();});
			
			$('#map_area').fadeOut();
			$('#map_area2').fadeIn(()=>{
				map2 = new ol.Map({
					renderer: 'dom',
					target: 'map_area2',
					layers: [
					base3,
					base4,
			layer.rails,
			layer.railc,
			layer.local,
			layer.tunnel,
			layer.rail,
			layer.brige,
					],
					view: view,
					controls: ol.control.defaults({
					  attribution : false
					}).extend([new ol.control.Zoom()])
				});
				function move(e){
					
					$('.swipe').css({left:e.pageX});
					map2.render();
				}
				function up(e){
					document.removeEventListener('mousemove',move);
					document.removeEventListener('mouseup',up);
				}
				var swipe = document.querySelector('.swipe .bar');
				swipe.addEventListener('mousedown',function(){
					document.addEventListener('mousemove',move);
					document.addEventListener('mouseup',up);
				});
				base4.on('precompose', function(event) {
					var ctx = event.context;
					var width = ctx.canvas.width * (document.querySelector('.swipe').offsetLeft / document.getElementById('map_area2').offsetWidth);
					
					ctx.save();
					ctx.beginPath();
					ctx.rect(width, 0, ctx.canvas.width - width, ctx.canvas.height);
					ctx.clip();
				});
				base4.on('postcompose', function(event) {
					var ctx = event.context;
					ctx.restore();
				});
				base3.on('precompose', function(event) {
					var ctx = event.context;
					var width = ctx.canvas.width * (document.querySelector('.swipe').offsetLeft / document.getElementById('map_area2').offsetWidth);
					
					ctx.save();
					ctx.beginPath();
					ctx.rect(0, 0, width, ctx.canvas.height);
					ctx.clip();
				});
				base3.on('postcompose', function(event) {
					var ctx = event.context;
					ctx.restore();
				});
			});
			
		}
		
		
	});
    
});
// Layer Popup
function mapLayerPopup() {
	$('.map_layer .l_close, body > .dim').click(function() {		
		$('.map_layer').hide();
		$('body > .dim').fadeOut();
        $('div.loading').hide();
	});
	$('.show-layer').click(function(e){				
		e.preventDefault();
	
		$('body > .dim').fadeIn();	
		$('.map_layer').hide();

		var activeLayer = $(this).attr('aria-controls');
		var left = ($(window).width() - $('#' + activeLayer).width()) / 2;
		var top = ($(window).height() - $('#' + activeLayer).height()) / 2;

		$('#' + activeLayer).css({'left': left,'top': top}).show();
		if($(this).hasClass('open-image')){
			$('#mapImage img').attr('src',$(this).data().image);
		}
	});	
}

/* Custom Scroller */
function customScroller($classname) {
	$classname.mCustomScrollbar();
}

//시설물 선택
function searchItem() {
    $('.search_area .s1 li > label.vl').off('click').on('click',function(){	
        $('#mapFacilities').fadeOut();
        var activeItem = $(this).find('input').attr('aria-controls');
		if(!$('.search_bottom button').eq(0).hasClass('active')){
			if ($(this).hasClass('checked')) {
				_meta.type[$(this).data().type] = true;
				$('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
				$('.map_wraper').stop().animate({right: '540px'}, 600, 'easeInOutQuad',()=>{map.updateSize();});
				//$('.'+activeItem).addClass('open');
			}else {
				delete _meta.type[$(this).data().type];
				$('.search_landscape').stop().animate({right: '-100%'}, 500, 'easeInOutQuad');
				$('.map_wraper').stop().animate({right: '0px'}, 600, 'easeInOutQuad',()=>{map.updateSize();});
				//$('.'+activeItem).removeClass('open'); 
				
				if ($('.search_area .s1 li > label.vl').hasClass('checked')) {
					$('.search_landscape').stop().animate({right: '0'}, 500, 'easeInOutQuad');
					$('.map_wraper').stop().animate({right: '540px'}, 600, 'easeInOutQuad');
				}
			}
		}
		if(map){
			setTimeout(function(){updateFeatures();},600);
			
		}
			
    });
	$('.search_area .s1 li > label.il input[type=checkbox]').off('click').on('click',function(){	
		if($('.search_area .s1 li > label.il input[type=checkbox]').is(':checked')){
			layer.olayer.setVisible(true);
			var layers = [];
		   $('.search_area .s1 li > label.il input[type=checkbox]:checked').each(function(){
			   layers.push($(this).data().layer)});
			layer.olayer.getSource().updateParams({layers:layers.join(',')});
		}else{
			layer.olayer.setVisible(false);
		}
       updateFeatures();
    });
}

// Datepicker 
$.datepicker.setDefaults({
	dateFormat: 'yy-mm-dd',
	prevText: '이전 달',
	nextText: '다음 달',
	monthNames: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
	monthNamesShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
	dayNames: ['일', '월', '화', '수', '목', '금', '토'],
	dayNamesShort: ['일', '월', '화', '수', '목', '금', '토'],
	dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],
	showMonthAfterYear: true,
	yearSuffix: '년'
});

//input ckeckbox & input radio
function setuplabel() {
    if ($('input[type=radio]').length) {
        $('input[type=radio]').each(function(){ 
            $(this).parent('label').removeClass('checked');
        });
        $('input[type=radio]:checked').each(function(){ 
            $(this).parent('label').addClass('checked');
        });                
    };
    if ($('input[type=checkbox]').length) {
        $('input[type=checkbox]').each(function(){ 
            $(this).parent('label').removeClass('checked');
        });
        $('input[type=checkbox]:checked').each(function(){ 
            $(this).parent('label').addClass('checked');
        });
    };    
	if(map)  
		updateFeatures();
};

//Select
function setupSelect() {
    $('select').each(function () {

		var $this = $(this),
			numberOfOptions = $(this).children('option').length;

		$this.addClass('s_blind');
		$this.wrap('<div class="custom_select"></div>');
		$this.after('<div class="options_title"></div>');

		var $optionsTitle = $this.next('div.options_title');
		$optionsTitle.text($this.children('option').eq(0).text());

		var $list = $('<ul />', {
			'class': 'options'
		}).insertAfter($optionsTitle);

		for (var i = 0; i < numberOfOptions; i++) {
			$('<li />', {
				text: $this.children('option').eq(i).text(),
				rel: $this.children('option').eq(i).val()
			}).appendTo($list);
		}

		var $listItems = $list.children('li');

		$optionsTitle.click(function (e) {
			e.stopPropagation();
			$('div.options_title.active').not(this).each(function () {
				$(this).removeClass('active').next('ul.options').hide();
			});
			$(this).toggleClass('active').next('ul.options').toggle();
		});
		
		$listItems.first().addClass('selected');
		
		$listItems.click(function (e) {
			e.stopPropagation();
			$optionsTitle.text($(this).text()).removeClass('active');
			$this.val($(this).attr('rel'));
			$list.hide();
			$listItems.removeClass('selected');
			$(this).addClass('selected');
		});

		$(document).click(function () {
			$optionsTitle.removeClass('active');
			$list.hide();
		});
	});
}   

proj4.defs("EPSG:5179", "+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"); //UTM-K 

var _projection =new ol.proj.Projection({code: 'EPSG:5179',extent:[-200000.0,-28024123.62,31824123.62,4000000.0]});
var resolutions = [
    125094.232896,62547.116448,31273.558224,15636.779112,7818.389556,3909.194778,1954.597389, 977.2986945,488.64934725,244.324673625,122.1623368125,61.08116840625,30.540584203125,15.2702921015625, 7.63514605078125,3.817573025390625,1.9087865126953125,0.9543932563476563,0.47719662817382813, 0.23859831408691407,0.11929915704345703,0.059649578521728516,0.029824789260864258,0.014912394630432129
];
ol.proj.proj4.register(proj4);
var tileURL = './baroemap/L{z}/{x}/{y}.png';
var tileURL3 = './airphoto/{z}/{x}/{y}.png';
var tileURL4 = './airfive/{z}/{x}/{y}.png';
var image = new ol.layer.Image({
	source: new ol.source.ImageStatic({
	  url: './images/samplep.png',
	  crossOrigin: 'anonymous',
	  projection: 'EPSG:5179',
	  imageExtent: [934408.667455471,1681388.08647025, 936179.538728274,1684201.33388258]
	}),
	visible:false
});
var tileGrid = new ol.tilegrid.TileGrid({origin: [-200000.0,-28024123.62],resolutions: resolutions,tileSize:256});
var base2 = new ol.layer.Tile({
	source: new ol.source.XYZ({
		projection : ol.proj.get('EPSG:5179'),
		tileUrlFunction: function (coordinate) {
			if (coordinate == null) {
				return "";
			}
			var l = coordinate[0] + '';
			var bounds = tileGrid.getTileCoordExtent(coordinate),
			  origin = tileGrid.getOrigin(),
			  resolutions = tileGrid.getResolution(coordinate[0]),
			  tileSize = tileGrid.getTileSize(),
			  x = Math.round((bounds[0] - origin[0]) / (resolutions * tileSize)),
			  y = Math.round((bounds[1] - origin[1]) / (resolutions * tileSize)),
			  _uri = tileURL.replace('{z}',(l.length>=2?l:new Array(2-l.length+1).join('0')+l)
			  .toString()).replace('{x}',x.toString()).replace('{y}', y.toString());

			return _uri;
		},
		tileGrid: tileGrid,
		preload:2
	})
});
var base3 = new ol.layer.Tile({
	source: new ol.source.XYZ({
		projection : ol.proj.get('EPSG:5179'),
		tileUrlFunction: function (coordinate) {
			if (coordinate == null) {
				return "";
			}
			var l = coordinate[0] + '';
			var bounds = tileGrid.getTileCoordExtent(coordinate),
			  origin = tileGrid.getOrigin(),
			  resolutions = tileGrid.getResolution(coordinate[0]),
			  tileSize = tileGrid.getTileSize(),
			  x = Math.round((bounds[0] - origin[0]) / (resolutions * tileSize)),
			  y = Math.round((bounds[1] - origin[1]) / (resolutions * tileSize)),
			  _uri = tileURL3.replace('{z}',(l.length>=2?l:new Array(2-l.length+1).join('0')+l)
			  .toString()).replace('{x}',x.toString()).replace('{y}', y.toString());

			return _uri;
		},
		tileGrid: tileGrid		
		,preload:2
	})
});
var base2_1 = new ol.layer.Tile({
	source: new ol.source.XYZ({
		projection : ol.proj.get('EPSG:5179'),
		tileUrlFunction: function (coordinate) {
			if (coordinate == null) {
				return "";
			}
			var l = coordinate[0] + '';
			var bounds = tileGrid.getTileCoordExtent(coordinate),
			  origin = tileGrid.getOrigin(),
			  resolutions = tileGrid.getResolution(coordinate[0]),
			  tileSize = tileGrid.getTileSize(),
			  x = Math.round((bounds[0] - origin[0]) / (resolutions * tileSize)),
			  y = Math.round((bounds[1] - origin[1]) / (resolutions * tileSize)),
			  _uri = tileURL3.replace('{z}',(l.length>=2?l:new Array(2-l.length+1).join('0')+l)
			  .toString()).replace('{x}',x.toString()).replace('{y}', y.toString());

			return _uri;
		},
		tileGrid: tileGrid		
	}),
	visible:false
});
var base4 = new ol.layer.Tile({
	source: new ol.source.XYZ({
		projection : ol.proj.get('EPSG:5179'),
		tileUrlFunction: function (coordinate) {
			if (coordinate == null) {
				return "";
			}
			var l = coordinate[0] + '';
			var bounds = tileGrid.getTileCoordExtent(coordinate),
			  origin = tileGrid.getOrigin(),
			  resolutions = tileGrid.getResolution(coordinate[0]),
			  tileSize = tileGrid.getTileSize(),
			  x = Math.round((bounds[0] - origin[0]) / (resolutions * tileSize)),
			  y = Math.round((bounds[1] - origin[1]) / (resolutions * tileSize)),
			  _uri = tileURL4.replace('{z}',(l.length>=2?l:new Array(2-l.length+1).join('0')+l)
			  .toString()).replace('{x}',x.toString()).replace('{y}', y.toString());

			return _uri;
		},
		tileGrid: tileGrid,
	})
});
var imageSource = new ol.source.ImageWMS({
	url : 'http://krgis:8081/geoserver/krgis/wms',
	params : {VERSION : '1.1.1',layers:'krgis:rail_navi3',FORMAT:'image/png8'},
	serverType : 'geoserver'
});
var layer = {};
layer.airfive = new ol.layer.Tile({
	source: new ol.source.XYZ({
		projection : ol.proj.get('EPSG:5179'),
		tileUrlFunction: function (coordinate) {
			if (coordinate == null) {
				return "";
			}
			var l = coordinate[0] + '';
			var bounds = tileGrid.getTileCoordExtent(coordinate),
			  origin = tileGrid.getOrigin(),
			  resolutions = tileGrid.getResolution(coordinate[0]),
			  tileSize = tileGrid.getTileSize(),
			  x = Math.round((bounds[0] - origin[0]) / (resolutions * tileSize)),
			  y = Math.round((bounds[1] - origin[1]) / (resolutions * tileSize)),
			  _uri = tileURL4.replace('{z}',(l.length>=2?l:new Array(2-l.length+1).join('0')+l)
			  .toString()).replace('{x}',x.toString()).replace('{y}', y.toString());

			return _uri;
		},
		tileGrid: tileGrid,
	}),
	visible:false
});;
layer.railc = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:rail_navi3',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:1,
	visible:true
});
layer.rails = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:rail',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:1,
	opacity:.5,
	visible:true
});
layer.local = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'rail_protect',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:0,
	opacity:.5,
	visible:false
});
layer.tunnel = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:tunnel',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:2,
	opacity:0.5,
	visible:true
});
layer.rail = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:j1,krgis:j2',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:2,
	opacity:1,
	visible:false
});
layer.tt = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:t1,krgis:t2',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:3,
	opacity:1,
	visible:false
});
layer.brige = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'krgis:brige',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:0,
	opacity:.5,
	visible:true
});
layer.poi16 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}
   });
layer.poi17 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi18 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
        src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi19 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi20 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi21 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi22 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
	 
	
   })
}});
layer.poi23 = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_"+f.get('type').toLowerCase()+".png"
 })
   })
}});
layer.work = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: '작업중',
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 12px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
     image: new ol.style.Icon({
          src: "./images/ico/spot_working.png"
 })
	 
	
   })
}});
layer.door = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:4,visible:false,
style:function(f){
	return new ol.style.Style({
		image : new ol.style.Circle({
				fill : new ol.style.Fill({
				color : 'rgba(51, 204, 255,0.3)'
				}),
				stroke : new ol.style.Stroke({
					width : 1,
					color : 'blue'
				}),
				radius : 5
			})
	   })
}});
layer.featureOverlay = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:5,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			//text: f.get('type'),
          fill: new ol.style.Fill({color: '#ffffff'}),
		  font:'bold 20px Arial',
		  offsetX:-5,
		  offsetY:-5
		}),
		image: new ol.style.Icon({
			src: f.get('type')=='A'?"./images/ico/spot_a_on.png":f.get('type')=='B'?"./images/ico/spot_b_on.png":f.get('type')=='C'?"./images/ico/spot_c_on.png":"./images/ico/spot_d_on.png"
	 })
		 
		
	   })
	}
});
layer.poi = new ol.layer.Vector({
	wrapX:true,
	source: new ol.source.Vector({
	  url: 'src/js/poi.geojson',
	  format: new ol.format.GeoJSON()
	}),
	style: function(feature) {
		if(map.getView().getZoom()>=feature.get('LABELON')+5&& map.getView().getZoom()<=feature.get('LABELOFF')+5){
		  return new ol.style.Style({
			geometry: function(feature) {
			  var geometry = feature.getGeometry();
			  return geometry;
			},
			text: new ol.style.Text({
				text:feature.get('ANNONAME'),
			  font: 'bold 14px Calibri,sans-serif',
			  overflow: true,
			  fill: new ol.style.Fill({
				color: '#000'
			  }),
			  stroke: new ol.style.Stroke({
				color: '#fff',
				width: 3
			  })
			})
		  });
		}else{
			return null;
		}
	},
	zIndex:6,
	declutter: true
  });
layer.distance = new ol.layer.Vector({source:new ol.source.Vector(),zIndex:5,visible:true,
style:function(f){
	return new ol.style.Style({
		text:new ol.style.Text({
			text: f.get('distance'),
          fill: new ol.style.Fill({color: '#fff'}),
		  stroke:new ol.style.Stroke({color: 'rgba(243, 10, 10,1)',width:3}),
		  font:'bold 16px Arial',
		  placement: 'line',
		  offsetX:0,
		  offsetY:-15
		}),
		stroke: new ol.style.Stroke({
			color: [243, 10, 10,.7],
			width: 2,
			//lineDash:[10,10]
		  }),
		image : f.get('door')?new ol.style.Icon({
          src: "./images/ico/spot_exit.png"
 }):null
	   })
	}
});
layer.olayer = new ol.layer.Image({source:new ol.source.ImageWMS({
		url : 'http://krgis:8081/geoserver/krgis/wms',
		params : {VERSION : '1.1.1',layers:'',FORMAT:'image/png8'},
		serverType : 'geoserver',
	}),
	zIndex:1,
	visible:false
});
function updateFeatures(){
	var range= 99999;
	$('.s2 button').each(function(){
		if($(this).hasClass('current')){
			range = 30* $(this).data().num;
		}
	});
	for(var p in poi){
		layer['poi'+p].getSource().clear();
		for(var i=0;i<poi[p].length;i++){
			if(!_meta.type[poi[p][i].type]) continue;
			var feature = new ol.Feature({geometry:new ol.geom.Point([poi[p][i].x,poi[p][i].y])});
			feature.setProperties(poi[p][i]);
			if(poi[p][i].rday<range)
				layer['poi'+p].getSource().addFeature(feature);
		}
	}
	for(var p=16;p<23;p++){
		var features = layer['poi'+p].getSource().getFeatures();
		for(var i=0;i<features.length;i++){
			layer['poi'+(p+1)].getSource().addFeature(features[i]);
		}
	}
	renderProperties();
}
//updateFeatures();

var imageLayer = new ol.layer.Image({source:imageSource});
var view = new ol.View({
	projection : _projection,
	resolutions : resolutions,
	center: mcenter,
	maxZoom: 23,
	minZoom: 6,
	zoom: 16,
	rotation:-data[0].a
});
var view2 = new ol.View({
	projection : _projection,
	resolutions : resolutions,
	center: [14248894.8, 4439106.8],
	maxZoom: 23,
	minZoom: 6,
	zoom: 14
});
base2.setOpacity(.5);
base2.setZIndex(-2);
base2_1.setOpacity(.5);
base2_1.setZIndex(-2);
imageLayer.setZIndex(3);
$(document).ready(()=>{
	map = new ol.Map({
		renderer: 'dom',
            /*
		  interactions: ol.interaction.defaults({
                doubleClickZoom: false,
                dragAndDrop: false,
                      dragPan: false,
                      keyboardPan: false,
                      keyboardZoom: false,
                      mouseWheelZoom: false,
                     // pointer: false,
                      select: false
            }),
			*/
		loadTilesWhileAnimating: true,
    loadTilesWhileInteracting: true,
		target: 'map_area',
		layers: [
		base2,
		base2_1,
		layer.airfive,
			//base3,
			layer.rails,
			layer.railc,
			layer.local,
			layer.tunnel,
			layer.rail,
			layer.brige,
			layer.tt,
			image,
			layer.poi16,layer.poi17,layer.poi18,layer.poi19,layer.poi20,layer.poi21,layer.poi22,layer.poi23,layer.featureOverlay
			,layer.poi,
			layer.distance,
			layer.work,
			layer.door,
			layer.olayer
		],
		view: view,
		controls: ol.control.defaults({
		  attribution : false
		}).extend([new ol.control.Zoom(),new ol.control.ScaleLine()])
	});
	for(var i=0;i<doorList.length;i++){
		var feature = new ol.Feature({geometry:new ol.geom.Point([doorList[i].x,doorList[i].y])});
			feature.setProperties(doorList[i]);
			layer.door.getSource().addFeature(feature);
	}
	for(var i=0;i<workList.length;i++){
		var feature = new ol.Feature({geometry:new ol.geom.Point([workList[i].x,workList[i].y])});
			feature.setProperties(workList[i]);
			layer.work.getSource().addFeature(feature);
	}
	map.on('singleclick',function(e){
		
		var feature = map.forEachFeatureAtPixel(e.pixel,
		  function(feature) {
			return feature;
		  });
		if(feature&&feature.get('id')){
			if(activeRenderData&&activeRenderData.id==feature.get('id')){
				$('.search_landscape .item').removeClass('current');
				activeRenderData.el.parent().parent().children('.dim').fadeOut();
				activeRenderData.line.hide('draw');
				activeRenderData = null;
				layer.distance.getSource().clear();
			}else{
				activeRenderData = renderData[feature.get('id')];
				activeRenderData.el.parent().parent().children('.dim').fadeIn();
				$('.search_landscape .item').removeClass('mhover');
				$('.search_landscape .item').removeClass('current');
				activeRenderData.el.addClass('current');
				activeRenderData.line.show('draw');
			}
		}else{
			$('.search_landscape .item').removeClass('current');
			if(activeRenderData){
				activeRenderData.el.parent().parent().children('.dim').fadeOut();
				activeRenderData.line.hide('draw');
				activeRenderData = null;
			}
		}
		if(layer.rail.getVisible()){
			popup3.setPosition(e.coordinate);
			 $(element3).css({display:'block'});
			 //$(element3).find('h1').text('지적정보');
		}
	});
	map.on('moveend',function(e){
		if(rightPannel){
			for(var p in poi){
				layer['poi'+p].setVisible(false);
			}
			if(map.getView().getZoom()>15){
				layer['poi'+map.getView().getZoom()].setVisible(true);
			}else if(map.getView().getZoom()>14&&map.getView().getZoom()<16){
				layer['poi16'].setVisible(true);
			}
			for(var rd in renderData){
				if(activeFnum.indexOf(renderData[rd].feature.get('id'))==-1){
					renderData[rd].el.remove();
					renderData[rd].line.remove();
					delete renderData[rd];
				}
			}
			if(activeRenderData&&!renderData[activeRenderData.id]){			
				$('.search_landscape .item').removeClass('current');
				$('.search_landscape .dim').fadeOut();
				activeRenderData = null;
			}
		}
		$('.m_c1 img').css({transform:'rotate('+map.getView().getRotation()+'rad)'});
		if(mode=='h'){
			var percent = Math.floor((map.getView().getZoom()-14)*400/9);
			$('.chart_wrap').css({backgroundSize:percent+'% 310px'});
		}
	});
	map.on('precompose',function(e){
		renderProperties();
	});
	var element = document.getElementById('mppopup');
	var element2 = document.getElementById('mppopup2');
	var element3 = document.getElementById('mppopup3');
	
	var popup = new ol.Overlay({
        element: element,
        positioning: 'top-center',
        stopEvent: false,
        offset: [-5, -370]
      });
	  var popup2 = new ol.Overlay({
        element: element2,
        positioning: 'top-center',
        stopEvent: false,
        offset: [0, -320]
      });
	  var popup3 = new ol.Overlay({
        element: element3,
        positioning: 'top-center',
        stopEvent: false,
        offset: [-40, -340]
      });
	  map.addOverlay(popup);
      map.addOverlay(popup2);
	  map.addOverlay(popup3);
	  
	  map.on('pointermove', function(evt) {
		  $(element3).css({display:'none'})
		  if(!window.lineView){
			  for(var r in renderData){
				if(!activeRenderData||activeRenderData!=renderData[r])
					renderData[r].line.hide('draw');
				else
					renderData[r].line.show('draw');
			  }
		  }
		  var position = ol.proj.transform(evt.coordinate,"EPSG:5179","EPSG:4326");
		  $('#mousep').text(position[0].toFixed(5)+ ', ' + position[1].toFixed(5));
		  
        var feature = map.forEachFeatureAtPixel(evt.pixel,
          function(feature) {
            return feature;
          });
		  if(window.closelyView){
				window.closelyMap.getView().setCenter(map.getCoordinateFromPixel(evt.pixel));
			}
		  layer.featureOverlay.getSource().clear();
		  
			if (feature&&(feature.get('id')||feature.get('w_name'))) {
			  $('#map_area').css({cursor:'pointer'});
			}else{
				$('#map_area').css({cursor:'default'});
			}
			if(feature&&feature.get('w_name')){
				var coordinates = feature.getGeometry().getCoordinates();
				 popup2.setPosition(coordinates);
				 $(element2).css({display:'block'});
				 $(element2).find('h1').text(feature.get('w_name'));
				 var properties = feature.getProperties();
				 $(element2).find('.pop-content').empty();
				 for(var p in properties){
					 if(p=='geometry'||p=='x'||p=='y') continue;
					 $(element2).find('.pop-content').append('<div class="item"><label>'+workLabel[p]+'</label><span>'+properties[p]+'</span></div>');
				 }
			}else{ 
				$(element2).css({display:'none'});
			}
			
		  if(!activeRenderData){
			if (feature&&feature.get('id')) {
				renderData[feature.get('id')].line.show('draw');
				 layer.featureOverlay.getSource().addFeature(feature);
				  var coordinates = feature.getGeometry().getCoordinates();
				  popup.setPosition(coordinates);
				  
				  $(element).css({display:'block'});
				  $(element).find('h1').text(feature.get('name') + feature.get('position'));
				  $(element).find('.pop-content').empty().append('<img src="'+feature.get('image')+'" style="width:240px;height:200px;">');
				  $('.search_landscape .item').each(function(){
					  if($(this).data().id==feature.get('id'))
						  $(this).addClass('mhover');
					  else
						  $(this).removeClass('mhover');
				  });
			} else {
				$('.search_landscape .item.mhover').removeClass('mhover');
			  $(element).css({display:'none'});
			}
		  }else{
			  layer.featureOverlay.getSource().addFeature(activeRenderData.feature);
		  }
		
		
      });
	  
	  
	  $('#closely_map_wrap').draggable({
		  drag:function(event,ui) {
			var center = map.getCoordinateFromPixel([event.pageX,event.pageY]);
			window.closelyMap.getView().setCenter(center);
			},
			stop:function(event,ui){
				$('#closely_map_wrap').css({left:'auto',top:'auto'});
			}
	  });
	  
	  $('.chart_wrap').on('mousemove',function(e){
		  $('.chart_line').css({left:e.pageX});
	  });
	  $('.chart_wrap').on('mouseover',function(e){
		  $('.chart_line').fadeIn();
		  $(document).off('mousemove').on('mousemove',function(e){
			  if(e.target!=$('.chart_wrap')[0]&&e.target!=document.querySelector('.chart_line')){
				$('.chart_line').fadeOut();  
				$(document).off('mousemove');
			  }
		  });
	  });
});
function renderProperties(){	
	activeFeatures = [];
	window.activeFnum = [];
	var isMove = mcenter != map.getView().getCenter();
	mcenter = map.getView().getCenter();
	if(rightPannel){
		try{
			if(map.getView().getZoom()>15){
				activeFeatures = layer['poi'+map.getView().getZoom()].getSource().getFeaturesInExtent(map.getView().calculateExtent());
				
			}else if(map.getView().getZoom()>14&&map.getView().getZoom()<16){
				activeFeatures = layer['poi16'].getSource().getFeaturesInExtent(map.getView().calculateExtent());
			}
			for(var i=0;i<activeFeatures.length;i++){
				var pixel = map.getPixelFromCoordinate(activeFeatures[i].getGeometry().getCoordinates());
				if(pixel[1]<0||pixel[1]>map.getSize()[1]){
					activeFeatures.splice(i,1);
					i--;
				}
			}
			for(var i=0;i<renderLine.length;i++){
				renderLine[i].remove();
				renderLine.splice(i,1);
				i--;
			}
			activeFeatures.sort(function(a, b){return a.get('id') - b.get('id')});
			if(mode=='v')
				activeFeatures.reverse();
			if(isMove){
				$('.bby').remove();
				$('.bby2').remove();
			}
			for(var i=0;i<activeFeatures.length;i++){
				var p = activeFeatures[i].getProperties();
				activeFnum.push(p.id);
				var h = ($('.search_landscape')[0].offsetHeight / activeFeatures.length)*i + ($('.search_landscape')[0].offsetHeight / activeFeatures.length/2-55);
				var w = ($('.search_portrait')[0].offsetWidth / activeFeatures.length)*i + ($('.search_landscape')[0].offsetWidth / activeFeatures.length/2-55);
				var xy = map.getPixelFromCoordinate(activeFeatures[i].getGeometry().getCoordinates());
				var start = LeaderLine.pointAnchor(document.getElementById('map_area'), {
					x: mode=='v'?xy[0]+20:xy[0],
					y: mode=='v'?xy[1]:xy[1]+30
				  });
				if(renderData.hasOwnProperty(p.id)){
					renderData[p.id].el.css({top:h,zIndex:(3000 - p.id)});
					renderData[p.id].line.start = start;
					renderData[p.id].line.position();
					if(mode=='h'){
						renderData[p.id].el.remove();
						renderData[p.id].el = $('<div class="item '+(p.type=='A'?'spot_a':p.type=='B'?'spot_b':p.type=='C'?'spot_c':'spot_d')+'" data-id="'+p.id+'"><i class="ico"></i></div>').css({left:w});
						document.querySelector('.search_portrait>div').appendChild(renderData[p.id].el[0]);
						renderData[p.id].line.end = renderData[p.id].el[0];
						renderData[p.id].line.setOptions({endSocket:'top'});
						renderData[p.id].line.position();
					}
				}else{
					renderData[p.id] = {el:null,line:null,feature:activeFeatures[i],id:p.id};
					if(mode=='v'){
						renderData[p.id].el = $('<div class="item '+(p.type=='A'?'spot_a':p.type=='B'?'spot_b':p.type=='C'?'spot_c':'spot_d')+(gg&&p.id==439?' urgency':'')+'" data-id="'+p.id+'"><i class="ico"></i><strong class="name">'+p.name+'</strong><p class="item_thumb"><img src="'+p.image+'" alt="이미지" class="show-layer open-image" data-image="'+p.image+'" aria-controls="mapImage"></p><ul class="list dotted"><li><strong>구분 :</strong><p>'+p.id+'</p></li><li class="l_detail"><strong>구분코드 :</strong><p>02300A</p></li><li class="l_simple"><strong>구간명 :</strong><p>'+p.gugan+'</p></li><li><strong>노선명 :</strong><p>호남선</p></li><li class="l_detail"><strong>구간명 :</strong><p>모암IEC-광주송정북연결</p></li><li><strong>관리소속 :</strong><p>관리소속</p></li><li><strong>상하선구분 :</strong><p>N/A</p></li><li><strong>시점역 :</strong><p>모암IEC구내</p></li><li><strong>종점역 :</strong><p>모암IEC구내</p></li><li><strong>시설물상태 :</strong><p>정상</p></li><li><strong>연장 :</strong><p>160.00m</p></li><li><strong>내진설계여부 :</strong><p>N</p></li><li><strong>감리업체명 :</strong><p>(주)동명기술</p></li><li class="title">상세 이력정보</li><li><strong>궤도회로구분 :</strong><p>AF(고속)</p></li><li><strong>길이 :</strong><p>758</p></li><li><strong>절연 :</strong><p>N</p></li><li class="title">유지보수 이력정보</li><li class="full"><div class="table_list"><table><colgroup><col style="width:50px"><col style="width:100px"><col style="width:130px"><col style="width:100px"><col style="width:100px"><col style="width:100px"><col style="width:100px"><col style="width:100px"></colgroup><thead><tr><th>순번</th><th>작업서번호</th><th>작업내용</th><th>구분</th><th>계획시작</th><th>계획종료</th><th>작업시작</th><th>작업종료</th></tr></thead><tbody><tr><td>5</td><td>201800005</td><td>AF궤도회로_정기</td><td>정기점검</td><td>2018.08.02</td><td>2018.08.03</td><td>2018.08.02</td><td>2018.08.03</td></tr><tr><td>4</td><td>201800004</td><td>AF궤도회로_정밀</td><td>정밀점검</td><td>2018.07.12</td><td>2018.07.13</td><td>2018.07.12</td><td>2018.07.13</td></tr><tr><td>3</td><td>201800003</td><td>AF궤도회로_특별</td><td>특별점검</td><td>2018.05.07</td><td>2018.05.07</td><td>2018.05.07</td><td>2018.05.07</td></tr><tr><td>2</td><td>201800002</td><td>AF궤도회로_진단</td><td>정밀안전진단</td><td>2018.03.02</td><td>2018.03.02</td><td>2018.03.02</td><td>2018.03.02</td></tr><tr><td>1</td><td>201800001</td><td>AF궤도회로_정기</td><td>정기점검</td><td>2018.02.10</td><td>2018.02.10</td><td>2018.02.10</td><td>2018.02.10</td></tr><tr><td>0</td><td>201800000</td><td>AF궤도회로_신설</td><td>신설</td><td>2018.01.10</td><td>2018.01.10</td><td>2018.01.10</td><td>2018.01.10</td></tr></tbody></table></div></li></ul><button type="button" class="btn_view show-layer" aria-controls="mapDrawing"><span class="blind">도면보기</span></button><a href="" class="btn_admin" target="_blank"><span class="blind">시설물 관리</span></a><button type="button" class="btn_exit"><span class="blind">출입구보기</span></button></div>').css({top:h});
						document.querySelector('.search_landscape>div').appendChild(renderData[p.id].el[0]);
						
						renderData[p.id].line = new LeaderLine(
						start,
						  LeaderLine.pointAnchor(renderData[p.id].el[0].querySelector('.ico'), {x: -5, y: 18}),
						  {dash:true,size:3,color:p.type=='A'?'#1aa357':p.type=='B'?'#f06331':p.type=='C'?'#d6487e':'#ffa509',endSocket:'left',endPlug:'disc',hide:window.lineView?false:true}
						);
					}else{
						renderData[p.id].el = $('<div class="item '+(p.type=='A'?'spot_a':p.type=='B'?'spot_b':p.type=='C'?'spot_c':'spot_d')+'" data-id="'+p.id+'"><i class="ico"></i></div>').css({left:w});
						document.querySelector('.search_portrait>div').appendChild(renderData[p.id].el[0]);
						renderData[p.id].line = new LeaderLine(
						start,
						  LeaderLine.pointAnchor(renderData[p.id].el[0].querySelector('.ico'), {x: -5, y: 18}),
						  {dash:true,size:3,color:p.type=='A'?'#1aa357':p.type=='B'?'#f06331':p.type=='C'?'#d6487e':'#ffa509',endSocket:'left',endPlug:'disc',hide:window.lineView?false:true}
						);
					}
                    mapLayerPopup();
				}
			}
			$('.item .btn_exit').off('click').on('click',function(){
				console.log($(this).parent().data().id);
				layer.distance.getSource().clear();
				var loop = true,buffer=10,features,feature = renderData[$(this).parent().data().id].feature;
				
				var bufferedExtent = new ol.extent.buffer(feature.getGeometry().getExtent(),300);
				features = layer.door.getSource().getFeaturesInExtent(bufferedExtent);
				
				if(features.length==0) return;
				
				for(var i=0;i<features.length;i++){
					var coordinates = [feature.getGeometry().getCoordinates(), features[i].getGeometry().getCoordinates()];
					var line = new ol.geom.LineString(coordinates);
					var p1 = new ol.geom.Point(feature.getGeometry().getCoordinates());
					var p2 = new ol.geom.Point(features[i].getGeometry().getCoordinates());
					var distance = Math.round(line.getLength() * 100) / 100;
					if (distance >= 1000) {
						distance = (Math.round(distance / 1000 * 100) / 100) + 'km';
					} else {
						distance = Math.round(distance) +'m';
					}
					var f = new ol.Feature({
						  geometry: line,
						  distance:distance
					  });
					layer.distance.getSource().addFeature(f);
					layer.distance.getSource().addFeature(new ol.Feature({geometry:p1}));
					layer.distance.getSource().addFeature(new ol.Feature({geometry:p2,door:true}));
				}
				
			});
			
			if(isMove){
				if(window.bbyTimeout) clearTimeout(window.bbyTimeout);
				window.bbyTimeout = setTimeout(()=>{
					for(var i=0;i<activeFeatures.length;i++){
						var p = activeFeatures[i].getProperties();
						var coordinates = activeFeatures[i].getGeometry().getCoordinates();
						//if(p.rday<50){
						if(gg&&p.id==439){
							var pixel = map.getPixelFromCoordinate(coordinates);
							var bby = $('<div class="bby2" data-id="'+p.id+'"><div></div><div></div></div>').appendTo('#map_area').css({top:pixel[1]-35,left:pixel[0]-35});
							bby.children('div').css({borderColor:'#ff0000'});
						}
						/*else 
							if(p.rday>=50&&p.rday<90){
							var pixel = map.getPixelFromCoordinate(coordinates);
							var bby = $('<div class="bby" data-id="'+p.id+'"><div></div><div></div></div>').appendTo('#map_area').css({top:pixel[1]-35,left:pixel[0]-35});
							bby.children('div').css({borderColor:'#ff3333'});
						}*/
					}
					$('.bby,.bby2').off('mouseover').on('mouseover',function(){
						renderData[$(this).data().id].line.show('draw');
						renderData[$(this).data().id].el.addClass('mhover');
						layer.featureOverlay.getSource().addFeature(renderData[$(this).data().id].feature);
					});
					$('.bby,.bby2').off('click').on('click',function(){
						if(activeRenderData&&activeRenderData.id==$(this).data().id){
							$('.search_landscape .item').removeClass('current');
							activeRenderData.el.parent().parent().children('.dim').fadeOut();
							activeRenderData.line.hide('draw');
							activeRenderData = null;
						}else{
							activeRenderData = renderData[$(this).data().id];
							activeRenderData.el.parent().parent().children('.dim').fadeIn();
							$('.search_landscape .item').removeClass('mhover');
							$('.search_landscape .item').removeClass('current');
							activeRenderData.el.addClass('current');
							activeRenderData.line.show('draw');
						}
					});
				},100);
			}
			
			$('.search_landscape .item > i,.search_landscape .item > .name').off('click').on('click',function(){	
			
				if ($(this).parent().hasClass('current')) {
					$('.search_landscape .item').removeClass('current');
					$(this).parent().removeClass('current');
					$('.search_landscape .dim').fadeOut();
					activeRenderData = null;
					layer.distance.getSource().clear();
				} else {
					$('.search_landscape .item').removeClass('current');
					$(this).parent().addClass('current');
					$('.search_landscape .dim').fadeIn();
					activeRenderData = renderData[$(this).parent().data().id];
					activeRenderData.line.show('draw');
				}
			});
			$('.search_landscape .item').off('mouseover').on('mouseover',function(){
				if(!window.lineView){
				  for(var r in renderData){
					  renderData[r].line.hide('draw');
				  }
			  }
			  
				layer.featureOverlay.getSource().clear();
				
				renderData[$(this).data().id].line.show('draw');
				 layer.featureOverlay.getSource().addFeature(renderData[$(this).data().id].feature);
			});
			$('.search_landscape .item').off('mouseout').on('mouseout',function(){
				if(!activeRenderData){
					if(!window.lineView){
						  for(var r in renderData){
							  renderData[r].line.hide('draw');
						  }
					  }
						  
					layer.featureOverlay.getSource().clear();
				}
			});
		}catch(e){
		}
		
		//drawDistance();
	}
}
function next(){
	if(!window.auto){
		window.auto = setInterval(function(){
				ix+=Math.floor((map.getView().getMaxZoom()+1 - Math.floor(map.getView().getZoom()))/2);
				if(ix>=data.length) ix = 0;
				var d = data[ix];
				map.getView().animate({rotation:-d.a,center:[d.x,d.y],duration:400});
		},1500);
	}else{
		clearInterval(window.auto);
		window.auto = null;
	}
}
function next1(){	
	ix+=Math.floor((map.getView().getMaxZoom()+1 - Math.floor(map.getView().getZoom()))/2);
	if(ix>=data.length) ix = 0;
	$('.search_landscape').css({backgroundPosition:'left '+(ix*50) + 'px'});
	var d = data[ix];
	map.getView().animate({rotation:-d.a,center:[d.x,d.y],duration:400});
	
}

function next2(){	
	ix+=Math.floor((map.getView().getMaxZoom()+1 - Math.floor(map.getView().getZoom()))/2);
	if(ix>=data.length) ix = 0;
	var d = data[ix];
	map.getView().animate({rotation:-d.a + 1.5707963267948966,center:[d.x,d.y],duration:400});
	$('.chart_wrap').css({backgroundPositionX:-(ix*100)});
	
}
function prev2(){
	ix-=Math.floor((map.getView().getMaxZoom()+1 - Math.floor(map.getView().getZoom()))/2);
	if(ix<0) ix = data.length-1;
	var d = data[ix];
	map.getView().animate({rotation:-d.a+ 1.5707963267948966,center:[d.x,d.y],duration:400});
	$('.chart_wrap').css({backgroundPositionX:(ix*100)});
	
}
function prev(){
	ix-=Math.floor((map.getView().getMaxZoom()+1 - Math.floor(map.getView().getZoom()))/2);
	if(ix<0) ix = data.length-1;
	$('.search_landscape').css({backgroundPosition:'left '+(ix*50) + 'px'});
	
	var d = data[ix];
	map.getView().animate({rotation:-d.a,center:[d.x,d.y],duration:400});
	
}
function image2(){
	image.setVisible(!image.getVisible())
	
}
function draw(){
	window.lineView = !window.lineView;
	for(var rd in renderData){
		if(window.lineView)
			renderData[rd].line.show('draw');
		else
			renderData[rd].line.hide('draw');
	}
}
function closely(){
	closelyView = !closelyView;
	if(closelyView){
		$('#closely_map_wrap').fadeIn();
		if(!window.closelyMap){
			window.closelyMap = new ol.Map({
				renderer: 'dom',
				target: 'closely_map',
				layers: [
				base4,
				],
				view: new ol.View({
					projection : _projection,
					resolutions : resolutions,
					center: map.getView().getCenter(),
					maxZoom: 23,
					minZoom: 7,
					zoom: map.getView().getZoom(),
					rotation:map.getView().getRotation()
				}),
				controls: ol.control.defaults({
				  attribution : false
				}).extend([new ol.control.Zoom()])
			});
			$('#closely_ol').off('mousewheel').on('mousewheel',function(e){
				if(e.originalEvent.wheelDelta>0){
					window.closelyMap.getView().animate({zoom:window.closelyMap.getView().getZoom()+1,rotation:map.getView().getRotation(),duration:100});
				}else{
					window.closelyMap.getView().animate({zoom:window.closelyMap.getView().getZoom()-1,rotation:map.getView().getRotation(),duration:100});
				}
			});
		}
	}else{
		$('#closely_map_wrap').fadeOut();
	}
}
function zoomIn(){map.getView().animate({zoom:map.getView().getZoom()+1,duration:150});}
function zoomOut(){map.getView().animate({zoom:map.getView().getZoom()-1,duration:150});}
function work(){
	gg = !gg;
	//layer.work.setVisible(gg);
    // Layer Popup
    $('#mapAlert .l_close').off('click').on('click',function() {	
        $('.map_layer').hide();
    });
    $('.map_layer').hide();
	if(gg){
		$('#mapAlert').css({'left': '400px','top': '200px'}).show();
		map.getView().setCenter([935387.0603739385, 1682896.102504275]);
		map.getView().setZoom(19);
	}
	else{
		$('#mapAlert').css({'left': '400px','top': '200px'}).hide();
		$('.bby,.bby2').remove();
	}
	
	$('.item').each(function(){
		if($(this).data().id=='439'&&gg) 
			$(this).addClass('urgency');
		else
			$(this).removeClass('urgency');
	});
}
function door(){
	layer.door.setVisible(!layer.door.getVisible());
}
function drawDistance(){
	layer.distance.getSource().clear();
	if(layer.door.getVisible()){
		for(var i=0;i<activeFeatures.length;i++){
			if(activeFeatures[i].get('rday')>90) continue;
			var loop = true,buffer=10,features,feature = activeFeatures[i];
			while(loop&&buffer<100){
				var bufferedExtent = new ol.extent.buffer(feature.getGeometry().getExtent(),buffer);
				features = layer.door.getSource().getFeaturesInExtent(bufferedExtent);
				if(features.length>0){
					loop = false;
				}else{
					buffer+=10;
				}
			}
			if(features.length==0) continue;
			var coordinates = [feature.getGeometry().getCoordinates(), features[0].getGeometry().getCoordinates()];
			var line = new ol.geom.LineString(coordinates);
			var distance = Math.round(line.getLength() * 100) / 100;
			if (distance >= 1000) {
				distance = (Math.round(distance / 1000 * 100) / 100) + 'km';
			} else {
				distance = Math.round(distance) +'m';
			}
			var feature = new ol.Feature({
				  geometry: line,
				  name: 'distance',
				  distance:distance
			  });
			layer.distance.getSource().addFeature(feature);
		}
	}
	
}
function go1(){
	map.getView().animate({zoom:15,duration:3000},{zoom:19,duration:3000});
	map.getView().animate({center:[data[411].x,data[411].y],rotation:-data[411].a,duration: 6000});
	ix = 411;
	setTimeout(function(){
		var aa = setInterval(function(){
		ix++;
		map.getView().animate({
			center:[data[ix].x,data[ix].y],rotation:-data[ix].a,duration: 300
		});
		if(ix>455) clearInterval(aa);
		},300);
	},6500);
	
}
function go2(){
	map.getView().animate({zoom:15,duration:3000},{zoom:19,duration:3000});
	map.getView().animate({center:[data[10].x,data[10].y],rotation:-data[11].a,duration: 6000});
	ix = 11;
}
function go3(){
	var aa = setInterval(function(){
		ix++;
		map.getView().animate({
			center:[data[ix].x,data[ix].y],rotation:-data[ix].a,duration: 300
		});
		if(ix>469) clearInterval(aa);
		},300);
}

function b(){
	map.getView().animate({rotation:0,duration:200});
}